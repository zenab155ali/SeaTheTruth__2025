"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90917],{630118:(e,t,n)=>{n.d(t,{KJ:()=>d,Rp:()=>l});let r={merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},own_profile:{id:14,name:"own_profile"},own_profile_no_pins:{id:45,name:"own_profile_no_pins"},other_profile:{id:15,name:"other_profile"},other_profile_no_pins:{id:46,name:"other_profile_no_pins"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"}},a={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},own_profile:{id:123,name:"own_profile_page_load"},own_profile_no_pins:{id:125,name:"own_profile_no_pins_page_load"},other_profile:{id:122,name:"other_profile_page_load"},other_profile_no_pins:{id:124,name:"other_profile_no_pins_page_load"},self_profile:{id:126,name:"self_profile_page_load"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_bulk_editor_history:{id:231,name:"sterling_bulkeditor_history_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{...r,bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},related_feed:{id:51,name:"related_feed"},nux_pin_picker:{id:49,name:"nux_pin_picker_feed_render"},self_profile:{id:47,name:"self_profile"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_bulk_editor_history:{id:232,name:"sterling_bulkeditor_history_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{...r}}},i={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},o={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701,nux_pin_picker:49,related_feed:51},s=e=>{let{navigationType:t,isAuthenticated:n,segment:r,surface:o}=e,s=n?"auth":"unauth",l=i[t]?.[s]?.[o];return r&&l&&l[r]||a[t][s][o]},l=e=>{if("stopwatch"===e.type&&"name"in e)return o[e.name]||null;if("surface"===e.type){let t=s(e);return t?t.id:null}return null},d=e=>{if("stopwatch"===e.type&&"name"in e||"core_web_vitals"===e.type&&"name"in e)return e.name;let{navigationType:t,isAuthenticated:n,segment:r,surface:a}=e,i=s(e);return i?i.name:`${t}_${n?"auth":"unauth"}_${a}${r?"_"+r:""}`}},994644:(e,t,n)=>{n.d(t,{e:()=>r,n:()=>a});let r=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}},a=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let n=t.pattern.split("/").filter(e=>""!==e),r=e.split("/").filter(e=>""!==e);if(n.length!==r.length)return!1;for(let e=0;e<n.length;e+=1)if(!n[e].startsWith(":")&&r[e]!==n[e])return!1;return!0});return t?t.name:"unknown"}},353168:(e,t,n)=>{n.d(t,{Ao:()=>_,BA:()=>g,E3:()=>m,L8:()=>h,ZP:()=>y,at:()=>o,gQ:()=>u,tl:()=>f});var r=n(201738),a=n(671481),i=n(917977);let o="masonryPagination",s={},l={},d=(e,t,n)=>{n?e.mark(t,{startTime:n}):e.mark(t)},p=({perf:e,name:t,startMark:n,endMark:r})=>{e.measure(t,n,r)},c=(e,t)=>{r.is||(e.clearMarks(t),e.clearMeasures(t))},u=()=>{let e={};return Object.keys(s).forEach(t=>{(s[t]||[]).slice(0,3).forEach((n,r)=>{e[r?`${t}_${r+1}`:t]=n})}),e},m=()=>{let e=[];return Object.keys(l).forEach(t=>{(l[t]||[]).slice(0,3).forEach((n,r)=>{let a=r?`${t}_${r+1}`:t;e=[...e,{name:a,startTime:n.startTime,endTime:n.endTime}]})}),e},_=(e,t)=>(s[e]||[]).filter(e=>e<t).length,g=(e,t)=>_(e,t)>0,f=()=>{a.Z&&Object.keys({...s,...l}).forEach(e=>c(a.Z,e)),s={},l={}},h=(e,t,n)=>{a.Z&&(n=n||a.Z.now(),l[e]=(l[e]||[]).concat([{startTime:t,endTime:n}]),p({perf:a.Z,name:e}),(0,i.qu)(`Add measure: { ${e}: ${t&&Math.floor(t)} - ${Math.floor(n||a.Z.now())}ms }`))},y=(e,t)=>{a.Z&&(s[e]=(s[e]||[]).concat([t||a.Z.now()]),d(a.Z,e,t),(0,i.qu)(`Add mark: { ${e}: ${Math.floor(t||a.Z.now())}ms }`))}},360284:(e,t,n)=>{n.d(t,{cC:()=>i,jy:()=>a,qr:()=>s,sk:()=>o});let r=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:r(e)}),i=e=>({type:"I32",value:r(e)}),o=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},2171:(e,t,n)=>{n.d(t,{N:()=>T,W:()=>S});var r=n(353168),a=n(294726),i=n(348595),o=n(192307),s=n(69118);let l=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,s.jh)("constraint_",e),...(0,s.jh)("mark_",(0,r.gQ)()),...(0,s.jh)("browser_",{...t?(0,s.D3)(t):{},...(0,s.rX)()})});var d=n(914495);let p=(e,t,n)=>[...e.map(e=>(0,d.Z)(e,n)).filter(Boolean),...t];var c=n(415787);let u=["PinResource","UserHomefeedResource","BaseSearchResource","BoardResource","UserResource","BoardFeedResource","runtime-","polyfills-","locale-","vendor-react-","vendor-react-","client-","index-","AuthDesktopHeader","DefaultPinRep","AuthDesktopPinRep","StructuredFeed","[id]-","[scope]-","[username]-","CloseupActionBarCommon-","SaveAffordance-"],m=({eventPrefix:e,endTime:t,tags:n,resourceArr:r,resourceType:a="allResources"})=>{let i=r.length;if("object"==typeof r[0]&&!Array.isArray(r[0])&&0!==i){if(u.includes(a)){let t=r[0];(0,c.LY)(`${e}.critical_resource_${a.replace("-","")}.InFlight`,t.fetchStart,{tags:n}),(0,c.LY)(`${e}.critical_resource_${a.replace("-","")}.Complete`,t.responseEnd,{tags:n})}else{let o=[...r].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...r].sort((e,t)=>e.responseEnd-t.responseEnd),l=1,d=t/5,p=0;for(;l<=5;){let t=0;for(;p<=i-1&&o[p].fetchStart<=d*l;)p+=1,t+=1;(0,c.S0)(`${e}.${a}.fetchStartInterval${l}of5`,t,{sampleRate:.2}),l+=1}let u={InFlightP0:o[0].fetchStart,InFlightP25:o[Math.floor(i/4)].fetchStart,InFlightP50:o[2*Math.floor(i/4)].fetchStart,InFlightP75:o[3*Math.floor(i/4)].fetchStart,InFlightP100:o[i-1].fetchStart,CompleteP25:s[Math.floor(i/4)].responseEnd,CompleteP50:s[2*Math.floor(i/4)].responseEnd,CompleteP75:s[3*Math.floor(i/4)].responseEnd,CompleteP100:s[i-1].responseEnd};for(let t in u)u[t]&&(0,c.LY)(`${e}.${a}.${t}`,u[t],{tags:n})}}},_=({annotateExperiments:e,endTime:t,entries:n,metricId:r,pwtStaticContext:a})=>{let{isAuthenticated:i,isBot:o,isSocialBot:s,deviceType:l}=a,d=`${s&&"socialBot"||o&&"bot"||"nonbot"}.${l}.${r.surface}`,p=[d];e&&[...new Set(e)].forEach(e=>{let t=a.getExperimentGroup(e);t&&p.push(`${d}.experiment.${e}.${t}`)});let c={isAuthenticated:i,navigationType:r.navigationType},_=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&("xmlhttprequest"===e.initiatorType&&e.encodedBodySize>=1e3||e.encodedBodySize>=1e4)&&e.responseEnd<=t)),g={img:[],css:[],script:[],xmlhttprequest:[],preloadedImages:[]};_.forEach(e=>{if("link"===e.initiatorType&&e.name.includes("i.pinimg.com"))g.preloadedImages=[...g.preloadedImages||[],e];else if(e.initiatorType in g){let t=e.initiatorType;g[t]=[...g[t]||[],e];let n=u.find(t=>e.name.includes(t));n&&(g[n]=[e])}}),p.forEach(e=>{m({eventPrefix:e,endTime:t,tags:c,resourceArr:_}),Object.entries(g).forEach(([n,r])=>{m({eventPrefix:e,endTime:t,tags:c,resourceArr:r,resourceType:n})})})};var g=n(147921),f=n(202953);let h=({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime,y=({startTime:e,endTime:t},n)=>e>n.endTime||!!t&&t<n.startTime,v=({type:e,annotateExperiments:t,annotations:n,binaryAnnotations:s,constraintMap:d,endTime:c,imageTimings:u,isV4Logger:m,metricId:v,pwtStaticContext:S,startTime:T,traceId:w,spans:b})=>{let E;let $=(0,f.Cg)();"initial_app_load"===v.navigationType&&(E=(0,i.Z)());let k=u.map(({name:e})=>e),A=$.map(e=>(0,o.p)(e,k)).filter(({timing:e})=>!h(e,{startTime:T,endTime:c})),C=((0,r.E3)()||[]).map(e=>({name:e.name,id:(0,g.Z)(),parentId:w,startTime:e.startTime||T,endTime:e.endTime,annotationMap:{},binaryAnnotationMap:{}})).filter(e=>!y(e,{startTime:T,endTime:c}));return .2>Math.random()&&_({annotateExperiments:t,endTime:c,entries:$,metricId:v,pwtStaticContext:S}),{traceId:w,startTime:T,endTime:c,spans:p(A,C,w).concat(b),annotationMap:l({constraintMap:d,initialNavTiming:E,annotations:n}),binaryAnnotationMap:(0,a.rA)({type:e,annotateExperiments:t,binaryAnnotations:s,entries:$,isV4Logger:m,metricId:v,performanceResources:A,pwtEndTime:c,pwtStaticContext:S})}},S=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:r,endTime:a,imageTimings:i,isV4Logger:o=!1,metricId:s,pwtStaticContext:l,startTime:d,traceId:p,spans:c})=>({type:"COMPLETE",...v({type:"COMPLETE",annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:r,endTime:a,imageTimings:i,isV4Logger:o,metricId:s,pwtStaticContext:l,startTime:d,traceId:p,spans:c})}),T=({reason:e,annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:a,endTime:i,imageTimings:o,isV4Logger:s=!1,metricId:l,pwtStaticContext:d,startTime:p,traceId:c,spans:u})=>({type:"ABORT",reason:e,...v({type:"ABORT",annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:a,endTime:i,imageTimings:o,isV4Logger:s,metricId:l,pwtStaticContext:d,startTime:p,traceId:c,spans:u})})},69118:(e,t,n)=>{n.d(t,{D3:()=>i,Hd:()=>l,jh:()=>s,rX:()=>o});var r=n(886303),a=n(326081);let i=e=>({...(0,r.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),o=()=>{let{largestContentfulPaint:e}=(0,a.v2)();return{largestContentfulPaint:e||0}},s=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{}),l=(e,t)=>Object.keys(e).reduce((n,r)=>t.includes(r)?{...n,[r]:e[r]}:n,Object.freeze({}))},294726:(e,t,n)=>{n.d(t,{E9:()=>d,ng:()=>y,rA:()=>S});var r=n(630118),a=n(353168),i=n(360284),o=n(326081),s=n(202953),l=n(561360);let d=(e,t)=>(e||[]).reduce((e,n)=>{let r=t(n);return r?{...e,[`experiment.${n}`]:(0,i.sk)(r)}:e},{}),p=(e,t)=>"number"==typeof t?e(t):null,c=e=>Number(Number(e/1024).toFixed(3)),u=e=>e.reduce((e,t)=>e+t,0),m=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{}),_=e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:r})=>{let a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:r}}),n=u(t.map(e=>e.requestStart-e.startTime)),r=u(t.map(e=>e.responseStart-e.requestStart)),a=u(t.map(e=>e.responseEnd-e.responseStart)),o=u(e.map(e=>e.decodedBodySize||0)),s=u(e.map(e=>e.encodedBodySize||0)),l=u(e.map(e=>e.transferSize||0));return{decodedBodySize:(0,i.cC)(c(o)),encodedBodySize:(0,i.cC)(c(s)),transferSize:(0,i.cC)(c(l)),"duration.all":(0,i.cC)(n+r+a),"duration.requestStartToResponseStart":(0,i.cC)(r),"duration.responseStartToResponseEnd":(0,i.cC)(a),"duration.startToRequestStart":(0,i.cC)(n)}},g=e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{..._(t),"count.completed":(0,i.cC)(t.length)}:{},"count.all":(0,i.cC)(e.length)}},f=e=>{let t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},r={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){let{requestStart:a,startTime:i}=e[0].timing,o=a||i;n.timeSecond1.start=o,n.timeSecond1.end=o+1e3,n.timeSecond2.start=o+1e3,n.timeSecond2.end=o+2e3,n.timeSecond3.start=o+2e3,n.timeSecond3.end=o+3e3,e.forEach(e=>{let{timing:a}=e;r[e.category]=r[e.category].concat([a]),e.isDeferred&&(r.script_deferred=r.script_deferred.concat([a])),e.isExternal&&(r.external=r.external.concat([a])),e.isVisuallyCompleteRequired&&(r.visually_complete=r.visually_complete.concat([a]));let{requestStart:i,startTime:o,responseEnd:s}=a,l=i||o;t.forEach(e=>{let{start:t,end:r}=n[e];l>=t&&l<r?n[e].count+=1:l<t&&s>t&&(n[e].count+=1)})})}let a={...m("concurrentRequests.",Object.keys(n).reduce((e,t)=>e={...e,[t]:(0,i.cC)(n[t].count)},{}))};return{...Object.keys(r).reduce((e,t)=>({...e,...m(`resource.${t}.`,g(r[t]))}),a)}},h=(e,t,n,a,o)=>{let d;let{devicePixelRatio:c,navigator:u,innerWidth:m,innerHeight:_,performance:g}=window,{deviceMemory:f,hardwareConcurrency:h,platform:y,userAgent:v,connection:S}=u,{memory:T}=g,{appType:w,appVersion:b,browserName:E,browserVersion:$,deviceType:k,isAppShell:A,isAuthenticated:C,isBot:R,isSocialBot:N,locale:B,osName:M,stageName:I,unauthId:Z}=t,{navigationType:x}=e,L=null;if("initial_app_load"===x){d=1;let e=l.Z("navigation")[0]?.transferSize;L=e?parseFloat((.001*e).toFixed(1)):null}else d=4;let P={"app.type":(0,i.jy)("desktop"===k?w||5:w||6),"app.version":(0,i.sk)(b),"browser.name":(0,i.sk)(E),"browser.version":(0,i.sk)($),"cpu.speed":(0,i.jy)(h),"device.memory":(0,i.jy)(f),"device.type":(0,i.jy)(0),"device.typeName":(0,i.sk)(k),"device.version":(0,i.sk)("unknown"),"pwt.cause":(0,i.jy)(d),"net.effectiveType":(0,i.sk)(S?.effectiveType||null),"net.downlink":(0,i.cC)(p(e=>10*Math.round(e/10),S?.downlink)),"net.downlinkMax":(0,i.cC)(p(e=>10*Math.round(e/10),S?.downlinkMax)),"net.rtt":(0,i.cC)(p(e=>10*Math.round(e/10),S?.rtt)),"net.speed":(0,i.cC)((0,s.Hv)(n,!1)),"pwt.result":(0,i.jy)("COMPLETE"===a?1:2),"view.type":(0,i.cC)(0),"viewport.height":(0,i.cC)(_||0),"viewport.width":(0,i.cC)(m||0),devicePixelRatio:(0,i.cC)(c||0),isAppShell:(0,i.qr)(A),isAuthenticated:(0,i.qr)(C),isBot:(0,i.qr)(R),isSocialBot:(0,i.qr)(N),locale:(0,i.sk)(B),osName:(0,i.sk)(M),...null!==L&&{htmlResponseSize:(0,i.cC)(L)},nextHopProtocol:(0,i.sk)(l.Z("navigation")[0]?.nextHopProtocol||null),platform:(0,i.sk)(y||null),profilerVersion:o?(0,i.sk)("4"):(0,i.sk)("3"),pwtActionName:o&&"id"in e?(0,i.jy)(e.id):(0,i.jy)((0,r.Rp)(e)),stageName:(0,i.sk)(I),userAgent:(0,i.sk)(v),usedJSHeapSize:(0,i.cC)(T?.usedJSHeapSize||0),totalJSHeapSize:(0,i.cC)(T?.totalJSHeapSize||0),jsHeapSizeLimit:(0,i.cC)(T?.jsHeapSizeLimit||0)};return C?P:{...P,unauthId:(0,i.sk)(Z)}},y=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:r={},performanceResourceTimings:a=[],type:o})=>({...d(e,n.getExperimentGroup),...h(t,n,a,o),...r,stopwatchVersion:(0,i.jy)(1)}),v=(e,t)=>{let{navigator:n}=window,{serviceWorker:r}=n,{surface:s,navigationType:l,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:c}=(0,o.v2)();return{...c.length?{"longTask.count":(0,i.cC)(c.length),"longTask.maxDuration":(0,i.cC)(Math.max(...c)),"longTask.totalDuration":(0,i.cC)(u(c))}:{},cumulativeLayoutShiftScore:(0,i.cC)(100*p),"masonry.paginationMarkCount":(0,i.cC)((0,a.Ao)(a.at,t)),"metricId.isAuthenticated":(0,i.qr)(d),"metricId.navigationType":(0,i.sk)(l),"metricId.surface":(0,i.sk)(s),resourceBufferClearedCount:(0,i.jy)((0,a.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,i.qr)((0,a.BA)("scrollDuringLayout",t)),serviceWorker:(0,i.qr)(r?!!r.controller:null),serviceWorkerState:(0,i.sk)(r?.controller?.state||null)}},S=({type:e,annotateExperiments:t,binaryAnnotations:n={},entries:r,isV4Logger:a,metricId:i,performanceResources:o,pwtEndTime:s,pwtStaticContext:l})=>({...n,...f(o),...d(t,l.getExperimentGroup),...h(i,l,r,e,a),...v(i,s)})},348595:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(671481);let a=()=>{let[e]=r.Z?r.Z.getEntriesByType("navigation"):[];return e}},192307:(e,t,n)=>{n.d(t,{i:()=>r,p:()=>o});let r=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(n))return"script";if("css"===n)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(n))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n))return"image";return"other"}}},a=e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")},i=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(`${t}`)),o=(e,t)=>{let n=r(e),{name:o}=e;return{category:n,isDeferred:"script"===n&&a(o),isExternal:i(o),isVisuallyCompleteRequired:"image"===n&&t.includes(o),timing:e}}},920301:(e,t,n)=>{n.d(t,{Z:()=>M,C:()=>N});var r=n(920595),a=n(201738),i=n(630118),o=n(845729),s=n(248750);let l=null,d=(e,t)=>((l=l||{results:[],context:t}).results.push(e),l);var p=n(360284),c=n(348595),u=n(147921),m=n(561360);let _=(e,t)=>Object.keys(e).reduce((n,r)=>{let a=e[r];return a?{...n,[r]:{timestamp:t+a}}:n},{}),g=e=>Object.keys(e).reduce((t,n)=>{let r=e[n];if(!r)return t;let{value:a,type:i}=r;return null==a?t:t.concat({name:n,value:a,annotation_type:i})},[]),f=({span:e,timeOrigin:t})=>({id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:_(e.annotationMap,t),binary_annotations:g(e.binaryAnnotationMap)}),h=(e,{startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:a,parentId:i,traceId:o})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:a,parentId:i,id:o}),y=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}}),{}),v=(e,t)=>({...e,annotations:{...y(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),S=(e,t,n)=>{let r=(0,c.Z)();return r?.responseEnd?v(f({span:{name:"html",startTime:0,endTime:r?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,p.sk)(m.Z("navigation")[0]?.nextHopProtocol||null)},id:e.server_span_id||(0,u.Z)(),parentId:t},timeOrigin:n}),e):null},T=({traceId:e,actionName:t,result:n,timeOrigin:r,serverDataToJoin:a})=>{let i=f({span:h(t,n),timeOrigin:r}),o=null;return a&&(i=v(i,a),o=S(a,e,r)),{trace_id:e,type:n.type,spans:[i,...o?[o]:[],...n.spans.map(e=>f({span:e,timeOrigin:r}))]}},w=e=>({debugTrace:a.eD,locale:e.locale,stageName:e.stageName});var b=n(917977),E=n(415787);let $=(0,o.XV)("reportResult"),k=[],A=[],C=(e,t)=>(t?k:A).find(t=>e.actionName.toLowerCase()===t.actionName.toLowerCase()&&e.metricId.navigationType===t.metricId.navigationType&&e.metricId.isAuthenticated===t.metricId.isAuthenticated&&1e3>Math.abs(e.result.endTime-t.result.endTime)),R=(e,t,n,r)=>{let a=t.result.endTime-t.result.startTime,i=Math.abs(e.result.endTime-e.result.startTime-a),o=e.result.type===t.result.type;if(i>10||!o){$("Discrepancy between v3 and v4 logs: ",{currentLog:e,matchingLog:t});let n={...r,durationDeltaLargerThan100:i>100,matchingLogResultType:t.result.type,..."ABORT"===t.result.type&&{matchingLogAbortReason:t.result.reason}};(0,b.El)({eventName:"loggerVersionDiscrepancy",tags:n}),(0,b.$v)({eventName:"loggerVersionDiscrepancyDuration",value:i,tags:n})}},N=({resultReason:e,resultLog:t,annotateExperiments:n,getExperimentGroup:r,options:a})=>{[...new Set(n)].forEach(n=>{let i=r(n),o=e?t.concat(`.${e}`):t;if(i){let e=`.experiment.${n}.${i}`;(0,s.A9)(`${o}${e}`,a)}})},B=()=>window.performance?.now?Date.now()-window.performance.now():"unknown";function M({metricId:e,pwtStaticContext:t,result:n,isAuth:o,isV4Logger:l=!1,annotateExperiments:p}){let c;let{serverData:u}=t;if(l){let{surface:t}=e;c=t}else c=(0,i.KJ)(e);let m=(t.getExperimentGroup("web_perf_logger_v4")||"").startsWith("enabled");if("surface"===e.type&&m){let r={actionName:c,metricId:e,result:n},a=n.binaryAnnotationMap?.pinType?.value||"unknown",i=C(r,l),o={actionName:c,navigationType:e.navigationType,isAuth:e.isAuthenticated,isV4Logger:l,appType:t.appType||"unknown",browserName:t.browserName||"unknown",isBot:t.isBot||"unknown",deviceType:t.deviceType||"unknown",currentLogResultType:r.result.type,..."ABORT"===r.result.type&&{currentLogAbortReason:r.result.reason},currentLogPinType:a};i?($(`Found matching log for ${c} in the alternate logger`,i),R(r,i,l,o)):($(`No matching log found for ${c} in the alternate logger`),(0,b.El)({eventName:"loggerVersionMissingMatchingLog",tags:o}),(0,b.El)({eventName:"loggerVersionMissingMatchingLogWithPinId",tags:{...o},sampleRate:.01})),l?(A.push(r),A.length>3&&A.shift()):(k.push(r),k.length>3&&A.shift())}let _=`${n.type}.${c}`,g=void 0!==o&&{tags:{isAuth:o}}||void 0;(0,s.A9)(n.reason?_.concat(`.${n.reason}`):_,g),p&&N({resultReason:n.reason,resultLog:_,annotateExperiments:p,getExperimentGroup:t.getExperimentGroup,options:g});let f=`${n.type}.${c}`;a.is||((0,E.S0)(`${f}.spans`,n.spans.length,{sampleRate:1}),(0,E.S0)(`${f}.annotations`,Object.keys(n.annotationMap).length,{sampleRate:1})),"COMPLETE"!==n.type&&$(`Abort metric ${c}`,n);let h=B();if("unknown"===h){$(`Unable to convert to absolute times for ${c} due to missing time origin`),(0,s.A9)(`missingTimeOrigin.${c}`,g);return}if(a.is&&(window.PWT_LAB_DATA=d(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!a.is){let i=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:o}=n,s=JSON.stringify(T({traceId:o,actionName:c,result:n,timeOrigin:h,serverDataToJoin:i&&u||null}));a.is||(0,E.S0)(`${f}.size`,s.length,{sampleRate:1}),(0,r.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:s,report_context:JSON.stringify(w(t))}}),$(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},886303:(e,t,n)=>{n.d(t,{Z:()=>r});let r=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},914495:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(360284),a=n(886303),i=n(147921);let o=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){let{category:n,timing:s,isDeferred:l,isExternal:d,isVisuallyCompleteRequired:p}=e;if(!s.responseEnd||"image"===n&&!p)return null;let c=!1,u=s.serverTiming?.find(e=>"spanId"===e.name)?.description;return u||(c=!0),{name:o(e),id:u||(0,i.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,a.Z)(s),binaryAnnotationMap:{isRandomSpanId:(0,r.qr)(c),category:(0,r.sk)(n),decodedBodySize:(0,r.cC)(s.decodedBodySize||0),initiatorType:(0,r.sk)(s.initiatorType),isDeferred:(0,r.qr)(l),isExternal:(0,r.qr)(d),name:(0,r.sk)(s.name),nextHopProtocol:(0,r.sk)(s.nextHopProtocol),transferSize:(0,r.cC)(s.transferSize||0)}}}},326081:(e,t,n)=>{n.d(t,{Kj:()=>u,PJ:()=>l,UQ:()=>_,Ux:()=>d,on:()=>o,v2:()=>p});var r=n(314851),a=n(399022);let i={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},o=()=>{i.longTaskDurations=[]},s=(0,r.Z)(()=>i.elementTimings),l=()=>s.get(),d=e=>{e&&s.save(),i.elementTimings=[]},p=()=>i,c=0,u=()=>c,m=e=>e.reduce((e,{identifier:t,loadTime:n,renderTime:r})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof r?[{identifier:t,loadTime:n,renderTime:r}]:[]),[]),_=()=>{(0,a.Z)({type:"element",buffered:!0},e=>{i.elementTimings=i.elementTimings.concat(m(e.getEntries()))}),(0,a.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>i.longTaskDurations.push(e.duration))},()=>o()),(0,a.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),n=t.length,r=t[n-1];r&&(c=n,i.largestContentfulPaint=r.renderTime||r.loadTime||null)}),(0,a.Z)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(i.cumulativeLayoutShiftScore+=e.value)})})}},314851:(e,t,n)=>{n.d(t,{Z:()=>r});let r=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},399022:(e,t,n)=>{n.d(t,{Z:()=>r});let r=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{let r=new window.PerformanceObserver(t);return r.observe(e),window.addEventListener("beforeunload",()=>{r.disconnect()}),n&&window.addEventListener("popstate",()=>{n()}),r}catch(e){return null}}},202953:(e,t,n)=>{n.d(t,{Cg:()=>g,Eg:()=>h,Hv:()=>v,LH:()=>c,MM:()=>S,X_:()=>u,y0:()=>f});var r=n(201738),a=n(994644),i=n(248750),o=n(353168),s=n(192307),l=n(314851),d=n(561360);function p(){(0,i.A9)("resourceBufferSize",{count:(0,d.Z)("resource").length}),window.performance&&window.performance.clearResourceTimings&&((0,o.ZP)("resourceBufferCleared"),r.DQ&&console.info("Warning: Clearing resource timings in default buffer."),window.performance.clearResourceTimings())}let c=()=>({defaultBufferSize:(0,d.Z)("resource").length}),u=()=>{if(window.performance){window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(800);try{window.performance.onresourcetimingbufferfull=()=>{let{pathname:e}=window.location,t=(0,a.n)(e)||"no_surface_match";(0,i.A9)("resourceBufferFull",{tags:{surface:t}});let{defaultBufferSize:n}=c();(0,i.A9)("resourceBufferFullSize",{tags:{surface:t,count:n}}),(0,i.or)("resourceBufferFullSize",n,{tags:{surface:t}}),n<1500?window.performance.setResourceTimingBufferSize(1500):p()}}catch(e){}}},m=()=>(0,d.Z)("resource"),_=(0,l.Z)(m),g=m,f=()=>_.get(),h=e=>{e&&_.save(),p()},y=e=>e.length?e.reduce((e,t)=>e+t,0)/e.length:null,v=(e,t=!0)=>{let n=0,r=0,a=y(e.filter(e=>t?"image"===(0,s.i)(e)&&(e.responseEnd||(n+=1),e.transferSize||(r+=1),!!e.responseEnd&&!!e.transferSize):!!e.responseEnd&&!!e.transferSize).map(e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3));return t&&(n>0&&(0,i.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),r>0&&(0,i.A9)("images.downloadSpeed.transferSize",{tags:{count:r}},!1)),a},S=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},561360:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}},671481:(e,t,n)=>{let r;n.d(t,{Z:()=>a});let a=(r=window.performance)&&r.clearMarks&&r.clearMeasures&&r.clearResourceTimings&&r.getEntries&&r.getEntriesByName&&r.getEntriesByType&&r.mark&&r.measure&&r.now&&r.setResourceTimingBufferSize?r:null},917977:(e,t,n)=>{n.d(t,{$v:()=>u,DM:()=>v,El:()=>c,T0:()=>_,eR:()=>h,fv:()=>f,jn:()=>m,qu:()=>l,sd:()=>g,yI:()=>p,yi:()=>y});var r=n(201738),a=n(845729),i=n(836686),o=n(493651),s=n(415787);let l=(0,a.XV)("v4 logPerfStats"),d=({logType:e,eventName:t,value:n,tags:a,sampleRate:o})=>{let l=n||1,d=o||1,{deviceType:p,isBot:c,isSocialBot:u}=(0,i.b)(),m=`perf.${u&&"socialBot"||c&&"bot"||"nonbot"}.${p}.${t}`,{browserName:_,browserVersion:g,isModernBundleCapable:f}=(0,i.b)(),h={...a||{},browserName:_,browserVersion:g?.split(".")[0]||"0",isModernBundleCapable:f,loggerVersion:"4.0.0"};!r.is&&("gauge"===e?(0,s.S0)(m,l,{sampleRate:r.DQ?1:d,tags:h}):"timing"===e?l<1e5&&(0,s.LY)(m,l,{sampleRate:r.DQ?1:d,tags:h}):"count"===e&&(0,s.QX)(m,l,{sampleRate:r.DQ?1:d,tags:h}))},p=({eventName:e,value:t,tags:n,sampleRate:r,annotateExperiments:a})=>{d({logType:"gauge",eventName:e,value:t,tags:n,sampleRate:r}),a&&[...new Set(a)].forEach(a=>{let{getExperimentGroup:o}=(0,i.b)(),s=o(a);if(s){let i=`.experiment.${a}.${s}`;d({logType:"gauge",eventName:e.concat(i),value:t,tags:n,sampleRate:r})}})},c=({eventName:e,value:t,tags:n,sampleRate:r,annotateExperiments:a})=>{d({logType:"count",eventName:e,value:t,tags:n,sampleRate:r}),a&&[...new Set(a)].forEach(a=>{let{getExperimentGroup:o}=(0,i.b)(),s=o(a);if(s){let i=`.experiment.${a}.${s}`;d({logType:"count",eventName:e.concat(i),value:t,tags:n,sampleRate:r})}})},u=({eventName:e,value:t,tags:n,sampleRate:r})=>{d({logType:"timing",eventName:e,value:t,tags:n,sampleRate:r})},m=({errorName:e,pwtName:t,errorDetailsTag:n})=>{let r="TIMING_ERROR",a=String(e).trim().replace(/\W/g,"_"),i=n?{errorDetails:n}:{};c({eventName:`${r}.${a}`,tags:{handler:(0,o.H)(),...i}}),l(`Error: ${a}`),t&&c({eventName:`${r}.${t}.${a}`,tags:i})},_=({abortReason:e,pwtName:t,annotateExperiments:n})=>{let r="TIMING_ABORT";c({eventName:`${r}.${e}`,tags:{handler:(0,o.H)()},annotateExperiments:n}),t&&c({eventName:`${r}.${t}.${e}`,annotateExperiments:n})},g=({pwtName:e,annotateExperiments:t})=>{let n="TIMING_START";c({eventName:n,tags:{handler:(0,o.H)()},annotateExperiments:t}),e&&c({eventName:`${n}.${e}`,annotateExperiments:t})},f=({pwtName:e,annotateExperiments:t})=>{let n="TIMING_COMPLETE";c({eventName:n,tags:{handler:(0,o.H)()},annotateExperiments:t}),e&&c({eventName:`${n}.${e}`,annotateExperiments:t})},h=(e="missing_constraint_name",t)=>{let n="CONSTRAINT_COMPLETE";c({eventName:`${n}.${e}`,tags:{handler:(0,o.H)()}}),t&&c({eventName:`${n}.${t}.${e}`})},y=(e,t)=>{let n="CONSTRAINT_ABORT";c({eventName:`${n}.${e}`,tags:{handler:(0,o.H)()}}),t&&c({eventName:`${n}.${t}.${e}`})},v=(e,t)=>{let n="CONSTRAINT_START";c({eventName:`${n}.${e}`,tags:{handler:(0,o.H)()}}),t&&c({eventName:`${n}.${t}.${e}`})}},836686:(e,t,n)=>{n.d(t,{Z:()=>s,b:()=>l});var r=n(486997),a=n(203643),i=n(710931);let o={appVersion:(0,i.Z)(),browserName:"",browserVersion:"",country:"",deviceType:"desktop",fullPath:"",getExperimentGroup:()=>null,isAppShell:!1,isAuthenticated:!1,isBot:!1,isModernBundleCapable:!1,isSocialBot:!1,locale:"",osName:"",serverData:null,stageName:"",unauthId:""};function s({requestContext:e,traceLoggerData:t}){o={appVersion:(0,i.Z)(),browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,country:e.country,deviceType:(0,r.Z)(e),fullPath:e.fullPath,getExperimentGroup:t=>e.experimentsClient.checkExperiment(t,{dangerouslySkipActivation:!0}).group||null,isAppShell:!1,isAuthenticated:e.isAuthenticated,isBot:e.isBot,isModernBundleCapable:(0,a.Z)({browserName:e.userAgent.browserName||"",browserType:e.userAgent.browserType||0,browserVersion:e.userAgent.browserVersion||"",userAgentString:e.userAgent.raw}),isSocialBot:e.isSocialBot,locale:e.locale,osName:e.userAgent.osName||"",serverData:t,stageName:e.stage,unauthId:e.unauthId}}function l(){return o}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90917-3143b0aa332b8734.mjs.map