"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[16249,33171],{642032:(e,t,i)=>{i.d(t,{Z:()=>s,m:()=>o});var a=i(755884),r=i(983542);let o=["female","male","unknown"],s=e=>{let{interests:t,ages:i,genders:s,country:l}=e;return{AGE_BUCKET:i||[],APPTYPE:a.jz,GENDER:s||o,INTEREST:(t||[]).map(e=>e.topic_id),LOCATION:[...new Set((l||r.UF).split("+"))]}}},360307:(e,t,i)=>{i.d(t,{Z:()=>o});let a=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let i=this._uidToData[e];i||(i=new a(e,t),this._uidToData[e]=i,this._numItems+=1),this._moveToFront(i),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let o=r},570686:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(635258),r=i(503237);function o(e,t){let i="";if(e&&(i=e,t)){let o=(0,r.Z)(e,!0),s="/advertiser/",{hostname:l}=o;(null===l||l===a.KUo)&&(e.startsWith(a.auO)&&(e=e.replace(a.auO,"")),i=e.startsWith(s)?e:s+t+e)}return i}},89934:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(667294),r=i(961414);function o({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:i,resourceName:o,resourceOptions:s,value:l}){let n=(0,r.Z)({allowSearchOnMount:e,resourceName:o,resourceOptions:s,value:l});return(0,a.useEffect)(()=>{n?.length&&i(n)},[n]),t||null}},382396:(e,t,i)=>{i.d(t,{Z:()=>a});let a=2},961414:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),r=i(360307),o=i(465848);function s({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:i={},value:s}){let l=(0,a.useRef)(!1),n=(0,a.useRef)({}),[d,c]=(0,a.useState)([]),_=function({resourceName:e,resourceOptions:t}){let i=(0,o.vL)(),s=(0,a.useRef)();return s.current||(s.current=function({resourceCreator:e,resourceName:t,resourceOptions:i}){let a=e(t,{...i,count:"count"in i?i.count:5}),o=new r.Z,s=()=>{a.abort()},l=async(e,t)=>{if(a.isCalling()){let i=a.options?.term,r=a.options?.pin_scope;if(e===i&&t===r)return;s()}let{bookmarks:i,...r}=a.options||{};a.options={...r,term:e,pin_scope:t};let{data:l}=(await a.callGet({showError:!1})).resource_response,n=l?.items,d=l?.hint||{};return o.set(`${t}-${e}`,{hint:d,items:n}),{term:e,items:n,hint:d}};return async function(e,t){let i=o.get(`${t}-${e}`);if(i){let{items:t}=i;if(t&&t.length){s();let{hint:a}=i;return{hint:a,items:t,term:e}}}return e.length>=0?l(e,t):{hint:{},items:[],term:e}}}({resourceCreator:i,resourceName:e,resourceOptions:t})),s.current}({resourceName:t,resourceOptions:i}),h=i.pin_scope||"pins",u=`${h}-${s}`;return(0,a.useEffect)(()=>{(async()=>{if(null!=s&&""!==s&&(e||l.current)){if(u in n.current)c(n.current[u]);else try{let e=await _(s,h);if(e){let{items:t}=e;n.current[u]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}}l.current||(l.current=!0)})()},[s,h,u]),d}},626964:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(410150),r=i(855746);function o(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return"phone"===e||"tablet"===e?1:0}}({deviceType:(0,a.ZP)(),site:(0,r.uo)()})}},360410:(e,t,i)=>{i.d(t,{Z:()=>r});let a=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>a.test(e)},838857:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(570686),r=i(635258);function o({advertiser:e,isAdsSite:t,isAnalyticsSite:i,isTrendsSite:o,baseUrl:s,adsUrl:l,isQuickPromote:n,isShoppingCatalogs:d}){if(t&&!e&&!n)return"/";let c=s;return(t||i||o)&&!d?(l||(l=s),e?(c=(0,a.Z)(l,e.id),t||(c=r.auO+c)):c=t?l:r.auO+c):d?c=r.auO+(0,a.Z)(s,e?e.id:""):l||(c=r.auO+s),c}},733423:(e,t,i)=>{i.d(t,{Z:()=>c,l:()=>d});var a=i(667294),r=i(730212),o=i(626964),s=i(62370),l=i(501912),n=i(700506);let d=(0,a.createContext)(void 0),c=function(){let{advertiser:e}=(0,r.B)(),t=function(){let{isSterlingSite:e}=(0,n.O9)((0,o.Z)());return(0,a.useContext)(d)??e}(),i=(0,l.Z)(),c=(s.K()?.profiles||[]).find(t=>t?.id===e?.owner_user_id);return t&&c||i}},333171:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(383399),r=i(501912),o=i(801621);let s=()=>{let e=(0,a.Z)(),t=(0,r.Z)();return(0,o.lJ)(e,t)}},700506:(e,t,i)=>{i.d(t,{uB:()=>g,re:()=>b,Xc:()=>x,NH:()=>m,Mz:()=>p,Mj:()=>w,LZ:()=>P,Lu:()=>A,es:()=>j,xV:()=>I,d5:()=>C,xQ:()=>y,O9:()=>v,bq:()=>k,HH:()=>T,Ti:()=>E,cG:()=>f,Hw:()=>B,HC:()=>z,$n:()=>L});var a=i(548466),r=i(642032),o=i(983542);let s=({values:e,pin:t,productGroup:i,country:a})=>{let{name:s,destination_url:l,budget:n,duration:d,inclusive_end_date:c,is_ongoing:_,advertiser_id:h,ages:u,interests:g,genders:b,ad_type:p,selected_ocpm_tag:m,isAutoTargeting:x}=e,v=Math.round(n*o.Az),f=(0,r.Z)({ages:u,interests:g,genders:b,country:a}),y={};p===o.Hl.WEB_CONVERSION&&(y.objective_type=o.Hl.WEB_CONVERSION,y.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:m.conversionTagId,conversion_event:m.conversionEvent}});let C={budget_in_micro_currency:v,campaign_name:s&&s.length<64?s:`${(s||"").substr(0,62)}…`,destination_url:t?l:null,duration:parseInt(d,10),auto_targeting_enabled:x,is_ongoing:_,start_now:!0,targeting_spec:f,advertiser_id:h,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:i?i.id:null,...y,flexible_daily_budget_enabled:!1};return!_&&c&&c.trim().length>0&&(C.inclusive_end_date=c),C};var l=i(729263),n=i(194093),d=i(400416),c=i(635258),_=i(868808),h=i(838857),u=i(415787);let g=472,b=364,p={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},m={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},x={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},v=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}),f=e=>{let{isAnalyticsSite:t=!1,isSterlingSite:i=!1,isWwwSite:a=!1,loggingType:r}=e,o="";t?o=".analytics":a?o=".www":i&&(o=".ads"),(0,u.nP)(`sterling.quick_promote.page${o}.${r}`,{sampleRate:1})},y=e=>e?o.vX.indexOf(e):-1,C=e=>{if(null!=e&&!(e<0)&&!(e>o.vX.length-1))return o.vX[e]},S=e=>e===o.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===o.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223},A=(e,t)=>{let{component:i,element:a}=S(C(e));t({event_type:101,component:i,element:a,aux_data:{page:"GestaltQuickPromote"}})},P=(e,t)=>{let i=C(e),{component:a}=S(i);i===o.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):i===o.Gl.SUCCESS_MODAL&&t({event_type:6358,component:a,aux_data:{page:"GestaltQuickPromote"}})},j=(e,t)=>{let i=[...new Set(e?.split("+"))];return t&&i.filter(e=>e in t)},B=(e,t)=>{if(!t||!e)return"";let i=`https://${c.KUo}`,a=`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`;return`${i}/advertiser/${e}/billing/${a}`},w=(e,t)=>{if(!e)return"";let{ad_group_id:i=""}=e,a=(0,l.default)("adgroup",t,{id:i,showAllEntities:!0});return(0,h.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:a,adsUrl:null,isQuickPromote:!0})},E=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),z=async e=>{let{pin:t,productGroup:i,country:a,onSaveSuccess:r,onSaveFailed:o,quickPromoteFormValues:l,advertiserId:c}=e;if(!t&&i)return;let _=`/ads/v4/advertisers/${c}/pins/${t?.id||""}/quick_promote/`;try{let{resource_response:e}=await (0,d.Z)({url:_,method:"POST",data:s({values:l,pin:t,productGroup:i,country:a})});e.data&&r(e.data)}catch(i){let e=(0,n.Z)(i,"httpStatus"),t=(0,n.Z)(i,"message_detail");o(t?{area:401===e?"pin":"modal",message:t}:{area:"modal"})}},I=e=>{let{hasValidBillingProfile:t,hasBusinessAddress:i,hasBillingInfo:a,hasBusinessInfo:r,serverErrorArea:s,stepIndex:l,isQuickPromotePage:n=!1}=e,{hasValidBusinessInfo:d,hasValidBillingInfo:c}=E({hasValidBillingProfile:t,hasBusinessAddress:i,hasBillingInfo:a,hasBusinessInfo:r}),_=[void 0,null].includes(l)?0:l+1;return C(l)!==o.hf||(s?_="modal"===s?y(o.Gl.ERROR_MODAL):l:d&&c?_=y(o.Gl.SUCCESS_MODAL):d?_=y(o.Gl.BILLING_FORM):n||(_=y(o.Gl.BUSINESS_FORM))),_>o.vX.length-1?void 0:_},k=e=>{let t=o.Pq.WIDE;return e<870?t=o.Pq.NARROW:e>=870&&e<=1275&&(t=o.Pq.MEDIUM),t},T=(e,t,i)=>{let{crossSite:r}=(0,_.mB)(e.search);if(a.Z()?.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled&&t.length<=1){window.close();return}window?[...Array(i.find(e=>e&&e.location&&e.location.pathname.includes("pin-builder"))?3:1)].forEach(()=>r?window.history.back():t.goBack()):t.goBack()};function L(e,t){let i=[...e],a=i.indexOf(t);return a>-1?i.splice(a,1):i.push(t),i}},830370:(e,t,i)=>{i.d(t,{Z:()=>m});var a=i(667294),r=i(545007),o=i(883119),s=i(640498),l=i(144326),n=i(383399),d=i(733423),c=i(801621),_=i(924452),h=i(332322),u=i(207666),g=i(785893);function b(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends a.Component{constructor(...e){super(...e),b(this,"handleSubmit",e=>{let{advertiserId:t,boardCreateSource:i,createBoard:a,onBoardCreate:r,viewer:o,orbacActingAs:s,shouldShowAddCollaborators:l,handleInviteSelectedCollaborators:n}=this.props,d=(0,c.lJ)(o,s),{name:_,description:h,privacy:u,collab_board_email:g,collaborator_invites_enabled:b}=e;return a({boardCreateOptions:{name:_,description:h,privacy:u,collab_board_email:g,collaborator_invites_enabled:b,aux_data:{source:i},...t?{advertiser_id:t}:{},...d?{orbac_subject_id:d}:Object.freeze({})}}).then(e=>{l&&n(e.id),r(e)})}),b(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,c.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}render(){let{advertiserId:e,isAdAccountOwner:t,onClose:i,privacy:a,useModalWithNoLayer:r,showSecretBoardCreateToggle:l,shouldShowAddCollaborators:n,setSelectedContacts:d,selectedContacts:h,orbacActingAs:u,viewer:b}=this.props,p=(0,c.lJ)(b,u);return(0,g.jsx)(_.Z,{board:{...this.emptyBoardData,privacy:t?a:s.ZP.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,isProfilePublisher:!!p,onClose:i,onSubmit:this.handleSubmit,selectedContacts:h,setSelectedContacts:d,shouldShowAddCollaborators:n,showSecretBoardCreateToggle:l,submitText:this.props.i18n.bt("צרו", "Create", " - ", undefined, true),title:(0,g.jsx)(o.xu,{paddingY:8,width:"100%",children:(0,g.jsx)(o.X6,{align:"center",size:"600",children:this.props.i18n.bt("צרו לוח", "Create board", "BoardCreate.BoardCreate", undefined, true)})}),useModalWithNoLayer:r})}}function m(e){let t=(0,u.Z)(),i=(0,l.ZP)(),o=(0,n.Z)(),s=(0,r.v9)(({advertiser:e})=>e?e.id:void 0),c=(0,d.Z)(),_=(0,r.v9)(({advertiser:e})=>!e||o.isAuth&&e.owner_user_id===o.id),b=(0,h.zC)(),m=(0,h.DK)(),x=e.isBoardCreateFromProfile,[v,f]=(0,a.useState)([]);return(0,g.jsx)(p,{...e,advertiserId:s,createBoard:t,dispatch:(0,r.I0)(),handleInviteSelectedCollaborators:e=>{let t=v.filter(e=>"email"===e.type||"email_share_suggestion"===e.type),i=v.filter(e=>"user"===e.type||"user_share_suggestion"===e.type);i.length>0&&m(e,i.map(e=>e.id)),t.length>0&&b(e,t.map(e=>e.id))},i18n:i,isAdAccountOwner:_,orbacActingAs:c,selectedContacts:v,setSelectedContacts:f,shouldShowAddCollaborators:x,viewer:o})}b(p,"defaultProps",{privacy:s.ZP.BoardPrivacy.PUBLIC})},451237:(e,t,i)=>{i.d(t,{Z:()=>a});let a={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},924452:(e,t,i)=>{i.d(t,{Z:()=>Y});var a=i(667294),r=i(883119),o=i(640498),s=i(194093),l=i(758339),n=i(107941),d=i(144326),c=i(240760),_=i(730212),h=i(352006),u=i(207630),g=i(901450),b=i(410150),p=i(26456),m=i(140002),x=i(559028),v=i(961754),f=i(89934),y=i(360410),C=i(383399),S=i(785893);function A({selectedContacts:e=[],setSelectedContacts:t}){let i=(0,d.ZP)(),o=(0,C.Z)(),s=o.isAuth?o?.avatar_color_index:void 0,{data:l}=(0,v.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[n,c]=(0,a.useState)([]);(0,a.useEffect)(()=>{l&&c(l.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[l]);let[_,h]=(0,a.useState)(""),u=e.map(e=>e.id),g=[...e,(0,y.Z)(_)&&!u.includes(_)?{id:_,type:"email"}:null,...n.filter(e=>!u.includes(e.id))].filter(Boolean),b=i=>{u.includes(i.id)?t?.((e||[]).filter(e=>e.id!==i.id)):t?.([...e,i])};return(0,S.jsxs)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,S.jsx)(r.xu,{paddingY:2,children:(0,S.jsx)(r.xv,{size:"100",children:i.bt("הוספת משתפי פעולה", "Add collaborators", "text indicates that this section is for adding collaborators to a board", undefined, true)})}),(0,S.jsx)(r.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,S.jsx)(r.xu,{children:(0,S.jsx)(f.Z,{onTypeaheadSuggestionsChange:e=>{c(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:_,children:(0,S.jsx)(r.Um,{accessibilityLabel:i.bt("חפשו אחר משתפי פעולה לפי שם או דואר אלקטרוני", "Search for collaborators by name or email", "users can search for other people and add them as collaborators to a board", undefined, true),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{h(e)},placeholder:i.bt("חפשו לפי שם או לפי דואר אלקטרוני", "Search by name or email", "text in search field to indicate that users could search for other users here", undefined, true),size:"lg",value:_})})})}),(0,S.jsx)(r.xu,{overflow:"scrollY",children:g.map(e=>(0,S.jsxs)(r.xu,{display:"flex",paddingY:2,children:[(0,S.jsxs)(r.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,S.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,S.jsx)(r.JO,{accessibilityLabel:i.bt("סמל דוא\"ל", "Email icon", "Email icon on board create modal", undefined, true),color:"default",icon:"envelope",size:24})}):(0,S.jsx)(r.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,S.jsx)(x.qE,{color:s,name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,S.jsx)(r.kC,{alignItems:"center",children:(0,S.jsx)(r.xu,{children:(0,S.jsx)(r.xv,{size:"300",children:e.id})})}):(0,S.jsxs)(r.kC,{direction:"column",justifyContent:"center",children:[(0,S.jsx)(r.xu,{marginBottom:1,tabIndex:0,children:(0,S.jsx)(r.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,S.jsx)(r.xu,{tabIndex:0,children:(0,S.jsx)(r.xv,{size:"200",children:`@${e.username||""}`})})]})]}),(0,S.jsx)(r.kC,{flex:"none",children:(0,S.jsx)(r.zx,{onClick:()=>b(e),selected:u.includes(e.id),size:"lg",text:u.includes(e.id)?i.bt("נוסף", "Added", "Text that lets the user know they have added the contact", undefined, true):i.bt("הוספה", "Add", "Text that lets the user know they can add that contact", undefined, true)})})]},e.id))})]})}var P=i(437141),j=i(162779);let B=({label:e,labelId:t})=>t?(0,S.jsx)(r.__,{htmlFor:t,children:(0,S.jsx)(r.xv,{size:"100",children:e})}):(0,S.jsx)(r.xv,{size:"100",children:e});function w(e){let{children:t,label:i,labelId:o}=e;return(0,S.jsxs)(a.Fragment,{children:[(0,S.jsx)(r.xu,{marginBottom:2,children:(0,S.jsx)(B,{label:i,labelId:o})}),t]})}function E({coverPin:e,handleShowBoardCoverEditModal:t}){let i=(0,d.ZP)(),[o,s]=(0,a.useState)(!1),{isRTL:l}=(0,_.B)();return(0,S.jsx)(w,{label:i.bt("תמונת שער של לוח", "Board cover", "BoardForm.BoardFormCoverButton", undefined, true),children:(0,S.jsx)(r.xu,{position:"relative",width:138,children:(0,S.jsx)(r.iP,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,rounding:4,children:e?.custom_cover?(0,S.jsxs)(a.Fragment,{children:[(0,S.jsx)(r.zd,{height:138,rounding:4,width:138,children:(0,S.jsx)(j.Z,{alt:e.image_url,color:"gray",customCover:e.custom_cover,height:138,imgPos:function(e){let{crop:t,size:i}=e||{};if(Array.isArray(t)&&Array.isArray(i))return{x:t[0]||0,y:t[1]||0,width:i[0]||0,height:i[1]||0}}(e),imgUrl:e.image_url||"",renderAsImage:!0,width:138})}),(0,S.jsx)(r.xu,{bottom:!0,left:l,padding:2,position:"absolute",right:!l,children:(0,S.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:o?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,S.jsx)(r.JO,{accessibilityLabel:i.bt("עריכת שער לוח", "Edit board cover", "BoardForm.BoardFormBoardCoverButton", undefined, true),color:"default",icon:"edit",size:16})})})]}):(0,S.jsx)(r.xu,{alignItems:"center",color:o?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,S.jsx)(r.JO,{accessibilityLabel:i.bt("הוסיפו תמונת שער", "Add cover photo", "BoardForm.BoardFormCoverButton", undefined, true),color:"default",icon:"add",size:24})})})})})}function z({children:e,label:t,labelId:i,subtext:o}){return(0,S.jsx)(a.Fragment,{children:(0,S.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,S.jsx)(r.xu,{marginStart:2,children:(0,S.jsxs)(r.__,{htmlFor:i,children:[(0,S.jsx)(r.xv,{size:"300",weight:"bold",children:t}),o]})})]})})}function I({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:i}){let a=(0,d.ZP)();return t&&(0,S.jsx)(z,{label:a.bt("התראות דוא\"ל", "Email notifications", "BoardForm.BoardFormCollaboratorsEmailCheckbox", undefined, true),labelId:"emailNotificationsCheckbox",subtext:(0,S.jsx)(r.xv,{color:"subtle",size:"300",children:a.bt("קבלו אימייל כאשר מישהו שומר Pin בלוח זה", "Get an email when someone saves Pins to this board", "BoardForm.BoardFormCollaboratorsEmailCheckbox", undefined, true)}),children:(0,S.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,S.jsx)(r.xu,{marginEnd:1,children:(0,S.jsx)(r.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:i})})})})}var k=i(946970),T=i(21065);function L({board:e,onCollaboratorInviteClick:t}){let i=(0,d.ZP)(),a=(0,T.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),o=a.slice(0,3).map(e=>e.name),s="";switch(a.length){case 3:s=(0,c.Wc)(`${i.bt("{{ first }}, {{ second }} ו-{{ last }}", "{{ first }}, {{ second }}, and {{ last }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars", undefined, true)}`,{first:`${o[0]}`,second:`${o[1]}`,last:`${o[2]}`});break;case 2:s=(0,c.Wc)(`${i.bt("{{ first }} ו-{{ second }}", "{{ first }} and {{ second }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars", undefined, true)}`,{first:`${o[0]}`,second:`${o[1]}`});break;default:s=o.join(", ")}let l=a.length>3?(0,c.Wc)(i.nbt(["משתפי פעולה: {{ userNames }} ועוד {{ leftCount }}.", "משתפי פעולה: {{ userNames }} ועוד {{ leftCount }}.", "משתפי פעולה: {{ userNames }} ועוד {{ leftCount }}.", "משתפי פעולה: {{ userNames }} ועוד {{ leftCount }}."], a.length - 3, "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree", true),{userNames:s,leftCount:`${a.length-3}`}):(0,c.Wc)(`${i.bt("משתפי פעולה: {{ userNames }}.", "Collaborators: {{ userNames }}.", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree", undefined, true)}`,{userNames:s});return(0,S.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,S.jsx)(r.HE,{accessibilityLabel:l,collaborators:a.map(({name:e,src:t,color:i})=>({src:t?.endsWith("/default_75.png")?void 0:t,name:e,color:i})),size:"md"}),(0,S.jsx)(r.hU,{accessibilityLabel:i.bt("הזמינו משתפי פעולה", "Invite collaborators", "BoardEdit.BoardCollaboratorsAndInviteSection", undefined, true),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}function O({board:e,onCollaboratorInviteClick:t}){let i=(0,d.ZP)(),a=(0,S.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,S.jsx)(r.xv,{inline:!0,size:"100",children:i.bt("משתפי פעולה", "Collaborators", " - ", undefined, true)}),(0,S.jsx)(k.Z,{}),(0,S.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:(0,S.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:i.bt("מידע נוסף", "Learn more", " - ", undefined, true)})})]});return(0,S.jsx)(w,{label:a,labelId:"collaborators",children:(0,S.jsx)(L,{board:e,onCollaboratorInviteClick:t})})}function R({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:i}){let a=(0,d.ZP)();return t&&(0,S.jsx)(z,{label:a.bt("אפשרו למשתפי פעולה להוסיף אנשים", "Let collaborators add people", "BoardForm.BoardFormCollaboratorsInviteToggle", undefined, true),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,S.jsx)(r.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:i})})}function D({description:e,descriptionValidatorErrors:t,onChange:i}){let a=(0,d.ZP)(),o="boardEditDescription";return(0,S.jsx)(w,{label:a.bt("תיאור", "Description", "BoardForm.BoardFormDescription", undefined, true),labelId:o,children:(0,S.jsx)(r.Kx,{errorMessage:t.join(", "),id:o,name:"description",onChange:i,placeholder:a.bt("באיזה נושא הלוח שלכם?", "What's your board about?", " - ", undefined, true),value:e})})}let F=({children:e})=>(0,S.jsx)(r.xu,{paddingX:8,role:"list",children:a.Children.map(e,(t,i)=>t&&(0,S.jsx)(r.xu,{marginBottom:i===a.Children.count(e)-1?1:8,role:"listitem",children:t},i))});function N({name:e,nameValidatorErrors:t,onChange:i,disabled:a}){let o=(0,d.ZP)();return(0,S.jsx)(w,{label:o.bt("שם", "Name", "BoardForm.BoardFormTitleInput", undefined, true),labelId:"boardEditName",children:(0,S.jsx)(r.nv,{disabled:a,errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:i,placeholder:o.bt("כמו \"מקומות להגיע אליהם\" או \"מתכונים להכין\"", "Like \"Places to Go\" or \"Recipes to Make\"", " - ", undefined, true),size:"lg",value:e})})}let Z=({board:e,collabBoardEmail:t,collaboratorInvitesEnabled:i,coverPin:a,currentUserIsOwner:o,description:s,descriptionValidatorErrors:l,handleBoardLeave:n,isCollaborative:c,showCoverEdit:_,name:h,nameValidatorErrors:u,handleShowBoardCoverEditModal:g,handleChangeName:b,handleChangeDescription:p,handleShowCollaboratorsModal:m,handleChangeCollabBoardEmail:x,handleChangeCollaboratorInvitesEnabled:v})=>{let f=(0,d.ZP)();return(0,S.jsxs)(F,{children:[_&&(0,S.jsx)(E,{coverPin:a,handleShowBoardCoverEditModal:g}),(0,S.jsx)(N,{disabled:!0,name:h,nameValidatorErrors:u,onChange:b}),(0,S.jsx)(D,{description:s,descriptionValidatorErrors:l,onChange:p}),o&&!!n&&(0,S.jsx)(O,{board:e,onCollaboratorInviteClick:m}),c&&(0,S.jsx)(r.xu,{marginBottom:-7,children:(0,S.jsx)(r.xv,{size:"100",children:f.bt("הגדרות", "Settings", "BoardForm.BoardForm", undefined, true)})}),(0,S.jsx)(I,{hasCollabBoardEmail:t,isCollaborative:c,onCheckboxChange:x}),(0,S.jsx)(R,{collaboratorInvitesEnabled:i,isCollaborative:c,onCheckboxChange:v})]})};function M({isProtectedToggler:e,isToggleDisable:t,onChange:i,onCheckboxChange:s,privacy:l}){let n=(0,d.ZP)();if(!0===e)return(0,S.jsx)(z,{label:n.bt("לוח מוגן (לא מופיע בפרופיל המשתמש)", "Protected board (not listed on user's profile)", "BoardForm.BoardFormSecretToggle", undefined, true),labelId:"protected",children:(0,S.jsx)(r.xu,{paddingY:2,children:(0,S.jsx)(r.rs,{disabled:t,id:"protected",onChange:i,switched:l===o.ZP.BoardPrivacy.PROTECTED})})});if(l!==o.ZP.BoardPrivacy.PROTECTED){let e=n.bt("שמרו על הלוח הזה בסוד", "Keep this board secret", "BoardForm.BoardFormSecretToggle", undefined, true),i=(0,S.jsx)(a.Fragment,{children:(0,S.jsxs)(r.xv,{color:"subtle",size:"300",children:[n.bt("כך שרק אתם ומשתפי פעולה יכולים לראות זאת.", "So only you and collaborators can see it.", "BoardForm.BoardFormSecretToggle", undefined, true)," ",(0,S.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:n.bt("מידע נוסף", "Learn more", "BoardForm.BoardFormSecretToggle", undefined, true)})]})});return(0,S.jsx)(z,{label:e,labelId:"secret",subtext:i,children:(0,S.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,S.jsx)(r.XZ,{checked:l===o.ZP.BoardPrivacy.SECRET,disabled:t,id:"secret",name:"secret",onChange:s})})})}return null}function U({allowHomefeedRecommendations:e,onCheckboxChange:t}){let i=(0,d.ZP)();return(0,S.jsx)(z,{label:i.bt("התאמה אישית", "Personalization", "BoardForm.BoardFormRecommendationToggle", undefined, true),labelId:"recommendation",subtext:(0,S.jsx)(r.xv,{color:"subtle",size:"300",children:i.bt("הציגו סיכות Pin בהשראת לוח זה בפיד הבית שלכם.", "Show Pins inspired by this board in your home feed.", "BoardForm.BoardFormRecommendationToggle", undefined, true)}),children:(0,S.jsx)(r.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function H(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let $=(0,a.lazy)(()=>Promise.all([i.e(97270),i.e(99162)]).then(i.bind(i,542187))),G=(0,a.lazy)(()=>Promise.all([i.e(36075),i.e(36060),i.e(56163),i.e(96988),i.e(5552)]).then(i.bind(i,896988))),W=(e,t)=>(0,p.Gy)({max:e,maxErrorString:(0,u.Z)(t.bt("אל תזינו יותר מ-{{ maxLength }} תווים.", "Please enter no more than {{ maxLength }} characters.", "Validation error when a string is too long", undefined, true),{maxLength:e})}),J=e=>[W(o.ZP.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],q=e=>[(0,p.aH)({message:e.bt("אל תשכחו לתת שם ללוח שלכם!", "Don't forget to name your board!", " - ", undefined, true)}),W(o.ZP.MAX_CHARS_FOR_BOARD_TITLE,e)],V=({condition:e,children:t})=>e?(0,S.jsx)(r.xu,{position:"absolute",zIndex:n.b7,children:t}):t;class X extends a.Component{constructor(e){super(e),H(this,"handleChangeName",({value:e})=>{let t=(0,p.FU)(q(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})}),H(this,"handleChangeDescription",({value:e})=>{let t=(0,p.FU)(J(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})}),H(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),H(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),H(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),H(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),H(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),H(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),H(this,"handleCheckboxChange",e=>({event:t,checked:i})=>e({event:t,value:i})),H(this,"handleSubmit",e=>{let{onSubmit:t}=this.props,{collab_board_email:i,collaboratorInvitesEnabled:a,description:r,name:o,privacy:l,allowHomefeedRecommendations:n}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let d=o.trim(),c=r.trim();this.setState({submitting:!0,submitError:""}),t({name:d,collab_board_email:i,collaborator_invites_enabled:a,description:c,privacy:l,allow_homefeed_recommendations:n}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=this.props.i18n.bt("אוי לא! משהו השתבש.", "Uh oh! Something went wrong.", " - ", undefined, true),i=(0,s.Z)(e,"message");if(i){let a=(0,s.Z)(e,"message_detail");t=a?`${i} ${a}`:i}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),H(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),H(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),H(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),H(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),H(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:t}=this.props;t&&t(e)});let{board:{collab_board_email:t,collaborator_invites_enabled:i,description:a,name:r,pin_count:o,privacy:l,allow_homefeed_recommendations:n}}=e;this.state={collab_board_email:t,description:a,name:r,pin_count:o,privacy:l,allowHomefeedRecommendations:n,collaboratorInvitesEnabled:i,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:r,previousDescription:a,previousPrivacy:l}}static getDerivedStateFromProps(e,t){let i={};return e.board.name&&e.board.name!==t.previousName&&(i.previousName=e.board.name,i.nameValidatorErrors=(0,p.FU)(q(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(i.previousDescription=e.board.description,i.descriptionValidatorErrors=(0,p.FU)(J(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(i.previousPrivacy=e.board.privacy),i}getFormFooter(){let{submitText:e}=this.props,{submitError:t}=this.state;return(0,S.jsxs)(a.Fragment,{children:[(0,S.jsx)(r.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,S.jsx)(r.xu,{children:(0,S.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,S.jsx)(r.xu,{height:48,children:(0,S.jsx)(r.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,S.jsx)(r.xu,{"aria-live":"polite",paddingX:1,tabIndex:0,children:(0,S.jsx)(r.xv,{color:"error",children:t})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:t,nameValidatorErrors:i,submitting:a}=this.state;return!t||i.length>0||e.length>0||a}render(){let{board:e,board:{archived_by_me_at:t,cover_pin:i,id:o,is_collaborative:s},coverImageHeight:n,coverImageWidth:d,currentUserIsOwner:_,handleBoardLeave:u,isAdAccount:g,isAdAccountOwner:b,isDeletable:p,isDesktop:x,isEditable:v,isNameAndSecretView:f,onClose:y,onDeleteButtonClick:C,requestContext:j,title:B,useModalWithNoLayer:w,showSecretBoardCreateToggle:z,shouldShowAddCollaborators:k,setSelectedContacts:T,selectedContacts:L,isProfilePublisher:H}=this.props,{allowHomefeedRecommendations:W,collab_board_email:J,collaboratorInvitesEnabled:q,description:X,descriptionValidatorErrors:Y,name:K,nameValidatorErrors:Q,pin_count:ee,privacy:et,showBoardCoverEdit:ei,showCollaboratorsModal:ea,showSecretConfirmation:er}=this.state,eo=v&&ee>0,es=e.is_ads_only,el=(0,S.jsxs)(F,{children:[eo&&(0,S.jsx)(E,{coverPin:i,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,S.jsx)(N,{disabled:es,name:K,nameValidatorErrors:Q,onChange:this.handleChangeName}),(0,S.jsx)(D,{description:X,descriptionValidatorErrors:Y,onChange:this.handleChangeDescription}),_&&!!u&&(0,S.jsx)(O,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,S.jsx)(r.xu,{marginBottom:-7,children:(0,S.jsx)(r.xv,{size:"100",children:this.props.i18n.bt("הגדרות", "Settings", "BoardForm.BoardForm", undefined, true)})}),(0,S.jsx)(M,{isProtectedToggler:!!g,isToggleDisable:!!g&&!b&&!H,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),!t&&(0,S.jsx)(U,{allowHomefeedRecommendations:W,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,S.jsx)(I,{hasCollabBoardEmail:J,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,S.jsx)(R,{collaboratorInvitesEnabled:q,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),p&&(0,S.jsxs)(r.xu,{marginTop:-6,paddingY:4,children:[(0,S.jsx)(r.xv,{size:"100",children:this.props.i18n.bt("פעולות", "Action", "BoardForm.BoardForm.Action", undefined, true)}),(0,S.jsxs)(r.iP,{onTap:C,children:[(0,S.jsx)(r.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,S.jsx)(r.X6,{size:"400",children:this.props.i18n.bt("מחיקת לוח", "Delete board", "BoardForm.Delete", undefined, true)})}),(0,S.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n.bt("יש לכם {{ MAX_AGE_RECENTLY_DELETED_BOARD }} ימים לשחזור לוח שנמחק. לאחר מכן, הוא יימחק לצמיתות.", "You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore a deleted Board. After that, it will be permanently deleted.", "boardForm.delete.helperText", undefined, true),{MAX_AGE_RECENTLY_DELETED_BOARD:m.Xq})})]})]})]});_?f&&(el=(0,S.jsxs)(F,{children:[(0,S.jsx)(N,{disabled:es,name:K,nameValidatorErrors:Q,onChange:this.handleChangeName}),!z&&(0,S.jsx)(M,{isProtectedToggler:!!g,isToggleDisable:!!g&&!b&&!H,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),k&&(0,S.jsx)(A,{selectedContacts:L,setSelectedContacts:T})]})):el=(0,S.jsxs)(F,{children:[!!u&&(0,S.jsx)(O,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,S.jsx)(I,{hasCollabBoardEmail:J,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&es&&(0,S.jsx)(U,{allowHomefeedRecommendations:W,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,S.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n.bt("רק בעלי הלוחות ({{ boardOwner }}) יכולים לנהל את שאר המאפיינים שלהם", "Only the board’s owner ({{ boardOwner }}) can manage the rest of its features", "BoardForm.CollaboratorPermissionsCopy", undefined, true),{boardOwner:(0,S.jsx)(r.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let en=w?r.u_:l.ZP,ed=this.props.i18n.bt("שינוי תמונת שער של לוח", "Change board cover", "BoardForm.BoardCoverEdit.heading", undefined, true),ec=(0,S.jsxs)(r.xu,{paddingY:8,position:"relative",children:[(0,S.jsx)(r.X6,{align:"center",size:"600",children:ed}),(0,S.jsx)(r.xu,{left:j.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!j.isRTL,top:!0,children:(0,S.jsx)(r.hU,{accessibilityLabel:this.props.i18n.bt("בטלו שינוי של תמונת שער של לוח", "Cancel change board cover", "BoardForm.BoardCoverEdit.cancel", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,S.jsxs)(a.Fragment,{children:[(0,S.jsx)(V,{condition:!!w,children:!ei&&!ea&&(0,S.jsx)(en,{accessibilityModalLabel:this.props.i18n.bt("טופס לוח", "Board form", "BoardForm.BoardForm", undefined, true),footer:this.getFormFooter(),heading:B,onDismiss:y,size:"sm",children:(0,S.jsx)(r.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,S.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!es&&el,es&&(0,S.jsx)(Z,{board:e,collabBoardEmail:J,collaboratorInvitesEnabled:q,coverPin:i,currentUserIsOwner:_,description:X,descriptionValidatorErrors:Y,handleBoardLeave:u,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:s,name:K,nameValidatorErrors:Q,showCoverEdit:eo})]})})})}),ei&&x&&(0,S.jsx)(h.Z,{children:(0,S.jsx)($,{boardId:o,boardName:K,coverPinId:i?.pin_id,frameHeight:n,frameWidth:d,heading:ec,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),er&&(0,S.jsx)(P.Z,{confirmButtonLabel:this.props.i18n.bt("הפכו לסודי", "Make secret", "Setting the boards visibility to secret", undefined, true),heading:this.props.i18n.bt("אתם בטוחים?", "Are you sure?", "Warning label asking users to be sure of their action", undefined, true),message:this.props.i18n.bt("אם תהפכו לוח זה לסודי, חלק מהמודעות הפעילות יפסיקו לעבוד", "If you make this board secret, some active ads will stop running", "Explicitly warning users of the board visibility action they are doing", undefined, true),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),ea&&(0,S.jsx)(h.Z,{children:(0,S.jsx)(G,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}function Y(e){let t=(0,d.ZP)(),i=(0,b.ZP)();return(0,S.jsx)(X,{...e,i18n:t,isDesktop:"desktop"===i,requestContext:(0,_.B)(),toastManagerContext:(0,g.F9)()})}H(X,"defaultProps",{isNameAndSecretView:!1})},909999:(e,t,i)=>{i.d(t,{j:()=>s});let a={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},r=e=>{if(!e)return"";let t="";for(let i=0;i<e.length;i+=1)t+=a[e.charAt(i)]||e.charAt(i);return t},o=(e,t)=>{let i=t.split(" "),a=e.split(" "),o=0;for(let e=0;e<a.length;e+=1)(r(a[e]).includes(i[o])||a[e].includes(i[o]))&&(o+=1);return o===i.length},s=(e,t,i="name")=>{let a=t.toLowerCase();return e.filter(e=>o(e[i].toLowerCase(),a))}},437141:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(883119),r=i(758339),o=i(144326),s=i(785893);function l({cancelButtonLabel:e,confirmButtonLabel:t,heading:i,message:l,onCancel:n,onConfirm:d}){let c=(0,o.ZP)(),_=i||c.bt("אתם בטוחים?", "Are you sure?", " - ", undefined, true),h=e||c.bt("ביטול", "Cancel", " - ", undefined, true);return(0,s.jsx)(r.ZP,{accessibilityModalLabel:_,footer:(0,s.jsxs)(a.xu,{marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(a.xu,{"data-test-id":"cancel-button",padding:1,children:(0,s.jsx)(a.zx,{fullWidth:!0,onClick:n,size:"lg",text:h})}),(0,s.jsx)(a.xu,{"data-test-id":"confirm-button",padding:1,children:(0,s.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:t})})]}),heading:_,onDismiss:n,role:"alertdialog",children:(0,s.jsx)(a.xu,{padding:4,children:(0,s.jsx)(a.xv,{children:l})})})}},240932:(e,t,i)=>{i.d(t,{MD:()=>W,xH:()=>Q,uC:()=>Y,sR:()=>K,DR:()=>X});var a=i(667294),r=i(545007),o=i(172045),s=i(883119),l=i(573706),n=i(400416),d=i(144326),c=i(512541),_=i(297728),h=i(730212),u=i(338623),g=i(961754),b=i(382396),p=i(383399),m=i(733423),x=i(801621),v=i(451237),f=i(167210),y=i(969119),C=i(785893);function S({boardPickerSuggestedBoards:e,clientTrackingParams:t,imageSignature:i,index:a,item:r,pinId:o,saveSessionId:n,surfaceOriginViewParameter:d,useLegoLayout:c}){let{logContextEvent:_}=(0,l.v)();return(0,y.Z)(()=>{"shortlist"===r.category&&_({aux_data:{board_picker_surface_origin:d,board_picker_suggested_boards:e,image_signature:i,pin_id:o,save_session_id:n},event_type:13,clientTrackingParams:t,view_type:21,view_parameter:3988})}),(0,C.jsx)(s.xu,{marginTop:a>0?2:1,paddingX:c?4:3,paddingY:1,children:(0,C.jsx)(s.xv,{size:c?"100":"200",children:r.title})})}var A=i(640498),P=i(912355);let j=e=>{let{accessibilityLabelText:t,board:i,buttonText:r,clientTrackingParams:o,displayAlreadySavedMsg:l,i18n:n,imageSignature:d,isSectionOpen:c,logContextEvent:_,onButtonClick:h,onClick:u,pinId:g,saveSessionId:b,shouldOpenSections:p=!0,showSaveToProfile:m,showFlyoutSaveButton:x=!0,surfaceOriginViewParameter:v,useLegoLayout:f}=e,[y,S]=(0,a.useState)(!1),j=(0,a.useRef)(null),B=!!i.section_count&&i.section_count>0,{images:w,image_cover_url:E}=i||{},z=!E?.includes("custom")&&w&&w["75x75"]&&w["75x75"][w["75x75"].length-1].url||E;(0,a.useEffect)(()=>{"boardless"===i.type&&_({aux_data:{board_picker_surface_origin:v,image_signature:d,pin_id:g,save_session_id:b},clientTrackingParams:o,event_type:13,view_parameter:3990,view_type:21})},[]);let I=()=>{u(i)};return(0,C.jsx)(s.xu,{"data-test-id":B?"boardWithSection":"boardWithoutSection",children:(0,C.jsx)(s.iP,{ref:j,onBlur:()=>{S(!1)},onFocus:()=>{S(!0)},onMouseEnter:()=>{S(!0)},onMouseLeave:()=>{S(!1)},onTap:I,children:(0,C.jsxs)(s.xu,{alignItems:"center",color:y?"secondary":"default","data-test-id":`board-row-${i.name||""}`,display:"flex",height:f?64:52,marginBottom:f?0:1,marginEnd:f?2:3,marginStart:f?2:3,marginTop:f?0:1,padding:f?2:0,rounding:3,children:[(0,C.jsxs)(s.xu,{"aria-hidden":"true",flex:"none",height:f?48:36,marginBottom:f?0:1,marginEnd:f?2:3,marginStart:f?0:2,marginTop:f?0:1,overflow:"hidden",width:f?48:36,children:[m&&"boardless"===i.type&&(0,C.jsx)(s.zd,{height:"100%",rounding:2,width:"100%",children:(0,C.jsx)(s.xu,{alignItems:"center",color:y?"default":"secondary",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:(0,C.jsx)(s.xu,{children:(0,C.jsx)(s.JO,{accessibilityLabel:n.bt("סמל שמירה בפרופיל", "Save to profile icon", "BoardRow.TapArea.Icon", undefined, true),color:"default",icon:"history",size:24})})})}),z&&!p&&(0,C.jsx)(s.zd,{height:f?48:36,rounding:2,wash:!0,width:f?48:36,children:(0,C.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:f?48:36,naturalWidth:f?48:36,src:z})}),z&&p?(0,C.jsx)(s.zd,{height:f?48:36,rounding:2,wash:!0,width:f?48:36,children:(0,C.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:f?48:36,naturalWidth:f?48:36,src:z})}):(0,C.jsx)(s.zd,{height:f?48:36,rounding:2,width:f?48:36,children:(0,C.jsx)(s.xu,{color:p?"secondary":"transparent",height:"100%",width:"100%"})})]}),(0,C.jsxs)(s.xu,{flex:"grow",marginStart:f?0:1,overflow:"hidden",paddingY:1,children:[(0,C.jsx)(s.xv,{lineClamp:1,overflow:"breakAll",weight:p||!p?"bold":"normal",children:i.name}),l&&(0,C.jsx)(s.xu,{marginTop:1,children:(0,C.jsx)(s.xv,{align:"start",color:"default",size:"100",children:n.bt("כבר נשמר כאן", "Saved here already", "BoardFlyout.AlreadySaved.Message", undefined, true)})})]}),i&&(!y||y&&B&&!c)?(0,C.jsx)(s.xu,{children:(0,C.jsx)(P.Z,{board:i,showCollaborativeIcon:!!i.is_collaborative,showPrivateIcon:i.privacy===A.ZP.BoardPrivacy.SECRET,showProtectedIcon:i.privacy===A.ZP.BoardPrivacy.PROTECTED,showSectionsIcon:B&&p,useLegoLayout:f})}):null,(0===i.section_count||!p)&&x&&(0,C.jsx)(s.xu,{"data-test-id":"board-row-save-button-container",flex:"none",marginEnd:f?0:2,opacity:y?1:0,children:(0,C.jsx)(s.zx,{accessibilityLabel:t||n.bt("לחצן 'שמירה'", "save button", "boardRow.saveButton", undefined, true),color:"red","data-test-id":"board-row-save-button",onClick:({event:e})=>{I(),h&&h(),e.stopPropagation()},text:r||n.bt("שמירה", "Save", "save button", undefined, true)})})]})})})},B=e=>{let{logContextEvent:t}=(0,l.v)(),i=(0,d.ZP)();return(0,C.jsx)(j,{...e,i18n:i,logContextEvent:t})};var w=i(501912),E=i(605244);function z(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class I extends a.Component{constructor(...e){super(...e),z(this,"state",{hovered:!1}),z(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),z(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),z(this,"handleTouch",()=>{let{board:e,onClick:t,section:i}=this.props;t(i,e)}),z(this,"handleButtonClick",({event:e})=>{let{onButtonClick:t}=this.props;this.handleTouch(),t&&t(),e.stopPropagation()}),z(this,"tapAreaRef",(0,a.createRef)())}focus(){let e=this.tapAreaRef.current;e&&e.focus()}render(){let{hovered:e}=this.state,{buttonText:t,section:i,showSectionSaveButton:a,useLegoLayout:r}=this.props;return(0,C.jsx)(s.iP,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,C.jsxs)(s.xu,{alignItems:"center",color:e?"secondary":"default",dangerouslySetInlineStyle:{__style:r?{}:{marginLeft:53,marginRight:11}},"data-test-id":`section-row-${i.title||""}`,display:"flex",height:r?64:52,marginEnd:r?2:0,marginStart:r?2:0,marginTop:r?0:1,padding:r?2:0,rounding:3,children:[r&&!!i.preview_pins?.length&&(0,C.jsx)(E.Z,{image_url:i.preview_pins[0].image_square_url??"",naturalHeight:i.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:i.preview_pins[0].image_square_size_pixels?.width??1}),(0,C.jsx)(s.xu,{flex:"grow",marginStart:r?0:4,paddingY:1,children:(0,C.jsx)(s.xv,{lineClamp:1,weight:r?"bold":"normal",children:i.title})}),e&&a&&(0,C.jsx)(s.xu,{flex:"none",marginEnd:r?0:2,children:(0,C.jsx)(s.zx,{accessibilityLabel:"save button",color:"red",onClick:this.handleButtonClick,text:t||this.props.i18n.bt("שמירה", "Save", "save button", undefined, true)})})]})})}}function k(e){let t=(0,d.ZP)();return(0,C.jsx)(I,{...e,i18n:t})}function T(e){let t=(0,d.ZP)(),{board:i,buttonText:a,onClick:r,onButtonClick:o,showSectionSaveButton:l,useLegoLayout:n}=e,c=(0,w.Z)(),_=(0,p.Z)(),h=(0,x.lJ)(_,c),u=(0,g.Z)({name:"BoardSectionsRepinResource",options:{board_id:i.id,orbac_subject_id:h},noCache:!0}),b=u&&u.data||[];return(0,C.jsxs)(s.xu,{children:[!u.isLoaded&&(0,C.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,C.jsx)(s.xH,{accessibilityLabel:t.bt("טוען את בורר הלוחות", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})}),u.isLoaded&&(0,C.jsxs)(s.xu,{children:[n&&(0,C.jsx)(s.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,C.jsx)(s.xv,{size:"100",children:t.bt("מקטע", "Section", "PinBetterSave.BoardFlyout.SectionPlaceholderText", undefined, true)})}),b.map(e=>(0,C.jsx)(k,{board:i,buttonText:a,onButtonClick:o,onClick:r,section:e,showSectionSaveButton:l,useLegoLayout:n},e.id))]})]})}function L({onClick:e,title:t,showIcon:i}){let r=(0,d.ZP)(),[o,l]=(0,a.useState)(!1);return(0,C.jsx)(s.iP,{dataTestId:"board-suggestion-row-button",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:()=>{e({title:t})},children:(0,C.jsxs)(s.xu,{alignItems:"center",color:o?"secondary":"default",display:"flex",height:i?64:52,marginBottom:1,marginEnd:3,marginStart:3,rounding:3,children:[(0,C.jsx)(s.xu,{flex:"none",height:i?48:36,marginBottom:1,marginEnd:3,marginStart:i?1:2,marginTop:1,overflow:"hidden",rounding:i?2:1,width:i?48:36,children:(0,C.jsx)(s.xu,{alignItems:i?"center":void 0,color:"secondary",display:i?"flex":void 0,height:"100%",justifyContent:i?"center":void 0,width:"100%",children:i&&(0,C.jsx)(s.JO,{accessibilityLabel:r.bt("סמל 'צרו לוח'", "Create board icon", "BoardSuggestionRow.AccessibilityLabel.Text", undefined, true),color:"default",icon:"add",size:20})})}),(0,C.jsx)(s.xu,{flex:"grow",paddingY:1,children:(0,C.jsx)(s.xv,{lineClamp:1,weight:"bold",children:t})}),o&&(0,C.jsx)(s.xu,{marginEnd:2,children:(0,C.jsx)(s.zx,{accessibilityLabel:"create button",color:"red",text:r.bt("יצירה", "Create", "create button to create a new board", undefined, true)})})]})})}function O(e){let t=(0,d.ZP)(),{suggestionsResource:i,onClick:r,pinBuilderSuggestions:o,inWebRepinFlowExp:l}=e,n=o||i&&i.data||[],c=(0,C.jsxs)(a.Fragment,{children:[l&&(0,C.jsx)(s.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,C.jsx)(s.xv,{size:"100",children:t.bt("הצעות", "Suggestions", "PinBetterSave.BoardFlyout.SectionPlaceholderText", undefined, true)})}),n.map((e,t)=>(0,C.jsx)(L,{onClick:r,showIcon:l,title:e.title},t))]});return(0,C.jsx)(a.Fragment,{children:n?c:(0,C.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,C.jsx)(s.xH,{accessibilityLabel:t.bt("טוען הצעות ללוחות", "loading board suggestions", "accessibility text for loading spinner", undefined, true),show:!0})})})}z(I,"defaultProps",{showSectionSaveButton:!0});var R=i(876594);function D({isBoardCreate:e,onCreateBoardClick:t,useLegoLayout:i}){let r=(0,d.ZP)(),[o,l]=(0,a.useState)(!1),[n,c]=(0,a.useState)(!1);return(0,C.jsx)(s.xu,{"data-test-id":"create-board",display:"flex",height:"100%",rounding:2,children:(0,C.jsx)(s.iP,{dataTestId:e?"create-board-button":"create-section-button",onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:t,rounding:2,children:(0,C.jsxs)(s.xu,{alignItems:"center",color:o?"secondary":"default",dangerouslySetInlineStyle:{__style:{...n?{border:`2px solid ${R.qtB}`}:{}}},display:"flex",height:"100%",padding:i?4:2,width:"100%",children:[(0,C.jsx)(s.xu,{color:i?"secondary":"transparent",dangerouslySetInlineStyle:{__style:i?{padding:"14px"}:{}},marginEnd:i?2:5,marginStart:i?0:4,rounding:i?2:0,children:(0,C.jsx)(s.JO,{accessibilityLabel:"",color:i?"default":"error",icon:i?"add":"add-circle",size:i?20:28})}),e?(0,C.jsx)(s.xv,{align:"center",lineClamp:1,weight:"bold",children:r.bt("צרו לוח", "Create board", " - ", undefined, true)}):(0,C.jsx)(s.xv,{align:"center",lineClamp:1,weight:"bold",children:r.bt("צרו מקטע", "Create section", " - ", undefined, true)})]})})})}var F=i(909999),N=i(633493);function Z(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let M=e=>e?498:439,U=e=>e?80:52,H="allBoards",$="shortlist",G=`
.BoardsSlideLeft {
  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRight {
  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideLeftRTL {
  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRightRTL {
  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

@keyframes boardFlyoutSlideLeft {
  from {
    margin-left: 0%;
  }

  to {
    margin-left: -100%;
  }
}

@keyframes boardFlyoutSlideRight {
  from {
    margin-left: -100%;
  }

  to {
    margin-left: 0%;
  }
}

@keyframes boardFlyoutSlideLeftRTL {
  from {
    margin-right: -100%;
  }

  to {
    margin-right: 0%;
  }
}

@keyframes boardFlyoutSlideRightRTL {
  from {
    margin-right: 0%;
  }

  to {
    margin-right: -100%;
  }
}
`;class W extends a.PureComponent{constructor(...e){super(...e),Z(this,"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,o.Z)()}),Z(this,"handleScroll",()=>{let{_container:e}=this,{logContextEvent:t}=this.props;t({event_type:110,component:13282,view_type:21})}),Z(this,"refHandler",e=>{this.removeEventListeners(),e&&e.addEventListener("scroll",this.handleScroll,{once:!0}),this._container=e}),Z(this,"getItems",e=>{let{boardResource:t,changeBoardModal:i,showSaveToProfile:a}=this.props;if(!t?.data)return[];let{all_boards:r}=t.data,o=r.length>=3&&a,s=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:this.props.i18n.bt("פרופיל", "Profile", "pinBetterSave.initialSelection.boardlessPinsOption", undefined, true),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],l=this.getAllBoards().map((e,t)=>this.mapBoards(e,H,t)),n=this.getShortlist().map((e,t)=>this.mapBoards(e,$,t)),d=!o&&a&&!i&&r.length>=3?[...s,...n.slice(0,2)]:n,{searchQuery:c}=this.state;return c.length>=b.Z?[...(0,F.j)(l,c)]:[...r.length<3&&a?[{type:"header",title:this.props.i18n.bt("שמירה מהירה וארגון במועד מאוחר יותר", "Quick save and organize later", "BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle", undefined, true)},...s]:[],...r.length>=3&&o?s:[],...r.length>=3&&d&&d.length?[{category:$,type:"header",title:e?this.props.i18n.bt("בחירות מובילות", "Top choices", "PinBetterSave.BoardFlyout.TopChoicesSectionTitle", undefined, true):this.props.i18n.bt("הצעות מובילות ללוח", "Top board suggestions", "Header for top suggesions in board picker", undefined, true)},...d]:[],...r.length>0?[{type:"header",title:r.length<3&&a?this.props.i18n.bt("שמירה בלוח", "Save to board", "BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle", undefined, true):this.props.i18n.bt("כל הלוחות", "All boards", "Header for all boards in board picker", undefined, true)},...l]:[]]}),Z(this,"mapBoards",(e,t,i)=>{let{selectedBoardId:a,selectedBoardCategory:r}=this.state,o=e.id===a&&t===r;return{...e,category:t,isOpen:o,gridIndex:i}}),Z(this,"handleBack",()=>{let{setBoardWithSection:e}=this.props;this.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),e&&e(null)}),Z(this,"handleSectionClick",(e,t)=>{let{clientTrackingParams:i,imageSignature:a,logContextEvent:r,onItemChosen:o,pinId:s,surfaceOriginViewParameter:l}=this.props,{saveSessionId:n,searchQuery:d}=this.state;r({event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:t.id,view_type:91,view_parameter:3133,aux_data:{board_id:t.id,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,image_signature:a,is_profile_save:!1,pin_id:s,save_session_id:n,search_query:d,section_id:e.id}}),o({boardId:t.id,url:e.slug?`${t.url}${e.slug}/`:t.url,sectionId:e.id,title:e.title||"",type:e.type,imageCoverUrl:t.image_cover_url,ownerUsername:t.owner&&t.owner.username||""})}),Z(this,"getPinBuilderSuggestions",async()=>{let{clientTrackingParams:e,imageSignature:t,logContextEvent:i,pinId:a,surfaceOriginViewParameter:r}=this.props,{saveSessionId:o}=this.state;if(a){let s=await (0,n.Z)({url:`/v3/pins/${a}/board_title_suggestions/`,data:{pin_id:a}});if(s.resource_response.data){let l=s.resource_response.data.map(e=>({title:e.title,metadata:JSON.parse(e?.metadata??"{}")}))||[];this.setState({boardSuggestions:l}),i({aux_data:{board_picker_surface_origin:r,board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:t,pin_id:a,save_session_id:o},component:13282,clientTrackingParams:e,event_type:13,view_parameter:3992,view_type:21})}}}),Z(this,"getAllBoards",()=>{let{boardResource:e,advertiser_id:t}=this.props;return(e?.data?.all_boards||[]).filter(e=>!t||"secret"!==e.privacy)}),Z(this,"getShortlist",()=>{let{suggestedBoardsShortListResource:e,displayShortlistMostRecentBoard:t,boardResource:i}=this.props,a=i?.data?.boards_shortlist||[];return t?a:e?.data||[]}),Z(this,"getBoards",e=>e===H?this.getAllBoards():e===$?this.getShortlist():[]),Z(this,"getSuggestedBoardsIds",()=>{let{showSaveToProfile:e}=this.props,t=(e?this.getShortlist().slice(0,2):this.getShortlist()).map(e=>e.id);return e&&t.unshift("PROFILE_PINS"),t}),Z(this,"getTopChoiceBoardsAuxData",()=>{let{showSaveToProfile:e}=this.props;return(e?this.getShortlist().slice(0,2):[...this.getShortlist()]).map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score}))}),Z(this,"getBoardTitleSuggestionsAuxData",()=>{let{boardSuggestions:e}=this.state;return e.map(e=>({board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}))}),Z(this,"handleBoardWithSectionsClick",e=>{let{clientTrackingParams:t,logContextEvent:i,pinId:a,setBoardWithSection:r,surfaceOriginViewParameter:o}=this.props,{saveSessionId:s,searchQuery:l,selectedBoardId:n,selectedBoardCategory:d}=this.state,c=this.getBoards(e.category).find(({id:t})=>t===e.id),_=n===e.id&&d===e.category;i({event_type:13,clientTrackingParams:t,component:13282,element:36,object_id_str:e.id,view_type:275,aux_data:{board_id:e.id,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,is_profile_save:!1,pin_id:a,save_session_id:s,search_query:l}}),c&&r&&r(c),this.setState({isSectionOpen:!0,selectedBoardId:_?"":e.id,selectedBoardCategory:_?"":e.category})}),Z(this,"handleBoardClick",({board:e,toggleSections:t})=>{let{clientTrackingParams:i,imageSignature:a,logContextEvent:r,onItemChosen:o,pinId:s,surfaceOriginViewParameter:l}=this.props,{saveSessionId:n,searchQuery:d}=this.state;this.setState({searchBoxFocused:!1}),t?(r({event_type:101,component:13282,element:36,clientTrackingParams:i,object_id_str:e.id,view_type:91,view_parameter:e.category===$?3988:3989,aux_data:{board_id:e.id,board_component:e.category===$?3988:3989,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:a,is_profile_save:!1,pin_id:s,save_session_id:n,search_query:d}}),this.handleBoardWithSectionsClick({category:e.category,gridIndex:e.gridIndex,id:e.id})):(r("boardless"===e.type?{event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:3990,aux_data:{board_id:e.id,board_component:3990,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:a,is_profile_save:!0,pin_id:s,save_session_id:n,search_query:d}}:{event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:e.category===$?3988:3989,aux_data:{board_id:e.id,board_component:e.category===$?3988:3989,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:a,is_profile_save:"boardless"===e.type,pin_id:s,save_session_id:n,search_query:d}}),o({boardId:e.id,url:e.url,title:e.name||"",type:e.type,imageCoverUrl:e.image_cover_url,privacy:e.privacy}))}),Z(this,"handleSearchQueryUpdate",e=>{this.setState(t=>({...t,searchQuery:e}))}),Z(this,"handleCreateBoardClick",e=>{let{clientTrackingParams:t,imageSignature:i,logContextEvent:a,onBoardCreate:r,pinId:o,surfaceOriginViewParameter:s,surface:l}=this.props,{saveSessionId:n,searchQuery:d}=this.state;a({event_type:101,clientTrackingParams:t,component:13282,element:249,view_type:91,view_parameter:e?87:3132,aux_data:{board_component:e?87:3132,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:o,save_session_id:n,search_query:d,source:l??v.Z.BOARD_PICKER}}),r({title:d})}),Z(this,"handleBoardSuggestionClick",e=>{let{clientTrackingParams:t,imageSignature:i,logContextEvent:a,onBoardCreate:r,pinId:o,surfaceOriginViewParameter:s}=this.props,{saveSessionId:l}=this.state;a({event_type:101,clientTrackingParams:t,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:s,board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:o,save_session_id:l}}),r(e)})}componentWillUnmount(){this.removeEventListeners()}componentDidMount(){let{clientTrackingParams:e,logContextEvent:t,pinId:i,setBoardWithSection:a,surfaceOriginViewParameter:r}=this.props,{saveSessionId:o}=this.state;a&&a(null),t({event_type:13,component:13282,clientTrackingParams:e,element:10960,aux_data:{board_picker_surface_origin:r,pin_id:i,save_session_id:o}})}componentDidUpdate(e){let{saveSessionId:t}=this.state,{clientTrackingParams:i}=this.props;!e.suggestedBoardsShortListResource?.isLoaded&&this.props.suggestedBoardsShortListResource?.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,clientTrackingParams:i,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:t}})}removeEventListeners(){let{_container:e}=this;e&&e.removeEventListener("scroll",this.handleScroll)}render(){let{accessibilityLabelText:e,boardResource:t,buttonText:i,changeBoardModal:r,clientTrackingParams:o,customItem:l,headerText:n,hideAlreadySavedMsg:d,imageSignature:_,onButtonClick:h,paneHeight:u,paneWidth:g,pinAlreadySavedBoard:b,pinId:p,requestContext:m,sectionText:x,showSaveToProfile:v,showSearchField:y,showCreateBoardButton:A,showFlyoutSaveButton:P,showSections:j,showSectionSaveButton:w,suggestedBoardsShortListResource:E,surfaceOriginViewParameter:z,useStoryboardStyle:I,useLegoLayout:k,boardFlyoutStyle:L}=this.props,{boardSuggestions:R,isSectionOpen:F,saveSessionId:Z,searchBoxFocused:$,searchQuery:W}=this.state;if(!t)return null;let{isLoaded:J,error:q}=t,V=[];(J&&!q||E&&E.data&&!E.error)&&(V=this.getItems(!!k));let X=V.filter(e=>e&&e.category===H).length;X<=3&&0===R.length&&this.getPinBuilderSuggestions();let Y=I?200:322,K=I?214:334,Q=u||290,ee=JSON.stringify(this.getTopChoiceBoardsAuxData()),et=m.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",ei="";null!==F&&(ei=m.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");let ea=e=>(0,C.jsxs)(a.Fragment,{children:[!k&&(0,C.jsx)(s.iz,{}),(0,C.jsx)(s.xu,{borderStyle:k&&X>=3&&V.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},height:U(k),overflow:"hidden",children:(0,C.jsx)(D,{isBoardCreate:e,onCreateBoardClick:()=>this.handleCreateBoardClick(e),useLegoLayout:k})})]});return(0,C.jsxs)(s.xu,{color:"default","data-test-id":"board-picker-flyout",height:I||r?"100%":M(k),overflow:"hidden",rounding:2,width:k&&!r?"100%":g,zIndex:f.lI,children:[(0,C.jsx)(c.Z,{unsafeCSS:G}),J?null:(0,C.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:k&&!r?360:g,children:(0,C.jsx)(s.xH,{accessibilityLabel:this.props.i18n.bt("טוען את בורר הלוחות", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})}),(0,C.jsx)(s.kC,{direction:"row",children:J&&(0,C.jsx)("div",{className:F?et:ei,children:(0,C.jsx)(s.xu,{position:"relative",children:(0,C.jsxs)(s.xu,{direction:"row",display:"flex",width:k&&!r?720:(g??0)*2,zIndex:new s.Ry(0),children:[(0,C.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:k&&!r?360:g,children:[k&&!r&&(0,C.jsx)(s.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,C.jsx)(s.xv,{align:"center",size:"300",weight:"bold",children:n||(v?this.props.i18n.bt("שמירה", "Save", "PinBetterSave.BoardFlyout.SavePlaceholder", undefined, true):this.props.i18n.bt("שמירה בלוח", "Save to board", "PinBetterSave.BoardFlyout.SaveToBoardPlaceholder", undefined, true))})}),(y??!r)&&(0,C.jsx)(s.xu,{"data-test-id":"search-boards-field-container",height:k?64:"auto",padding:L?.searchFieldStyle?.padding??(k?0:3),paddingX:L?.searchFieldStyle?.paddingX??(k?4:3),paddingY:L?.searchFieldStyle?.paddingY,children:(0,C.jsx)(N.Z,{accessibilityLabel:this.props.i18n.bt("חפשו בלוחות שלכם", "Search through your boards", "search bar placeholder text", undefined, true),focused:$,id:"pickerSearchField",onChange:({value:e})=>this.handleSearchQueryUpdate(e),placeholder:this.props.i18n.bt("חיפוש", "Search", "search bar placeholder text", undefined, true),size:L?.searchFieldStyle?.size??"lg",value:W})}),(0,C.jsxs)(s.xu,{ref:this.refHandler,maxHeight:k?Q:Y,minHeight:k?290:Y,overflow:"scrollY",children:[E&&!E.isLoaded?(0,C.jsx)(s.xu,{"data-test-id":"suggestedBoardsContainer",children:(0,C.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,C.jsx)(s.xH,{accessibilityLabel:this.props.i18n.bt("טוען את בורר הלוחות", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})})}):null,l,V.map((t,a)=>"header"===t.type?(0,C.jsx)(S,{boardPickerSuggestedBoards:ee,clientTrackingParams:o,imageSignature:_,index:a,item:t,pinId:p,saveSessionId:Z,surfaceOriginViewParameter:z,useLegoLayout:k},`${t.title}`):(0,C.jsx)(s.xu,{children:(0,C.jsx)(B,{accessibilityLabelText:e,board:t,buttonText:i,clientTrackingParams:o,displayAlreadySavedMsg:b&&b.id===t.id&&!d,imageSignature:_,onButtonClick:h,onClick:e=>{this.handleBoardClick({board:e,toggleSections:j&&!!e.section_count})},pinId:p,saveSessionId:Z,shouldOpenSections:j,showFlyoutSaveButton:P,showSaveToProfile:v,surfaceOriginViewParameter:z,useLegoLayout:k})},`${t.category}-${t.id}`)),X<=3&&R.length>0&&(0,C.jsx)(O,{inWebRepinFlowExp:k,onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:R})]}),A&&ea(!0)]}),F&&(0,C.jsxs)(s.xu,{direction:"column",display:"flex",marginBottom:k?2:0,width:k&&!r?360:g,children:[(0,C.jsxs)(s.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,C.jsx)(s.sg,{span:2,children:(0,C.jsx)(s.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginStart:3,children:(0,C.jsx)(s.hU,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),(0,C.jsx)(s.sg,{span:8,children:(0,C.jsx)(s.kC,{alignItems:"center",height:k?64:52,justifyContent:"center",children:(0,C.jsx)(s.xv,{weight:"bold",children:x||(k?this.props.i18n.bt("שמרו Pin אל", "Save Pin to", "PinBetterSave.BoardFlyout.SectionHeader", undefined, true):this.props.i18n.bt("בחירת מקטע", "Choose section", "Header for section header", undefined, true))})})}),(0,C.jsx)(s.sg,{span:2,children:(0,C.jsx)(s.xu,{})})]}),!k&&(0,C.jsx)(s.iz,{}),(0,C.jsx)(s.xu,{maxHeight:k?Q:K,minHeight:k?354:K,overflow:"scrollY",children:V?(0,C.jsx)(a.Fragment,{children:V&&V.map(e=>"header"===e.type?null:(0,C.jsx)(s.xu,{children:e.isOpen&&(0,C.jsxs)(a.Fragment,{children:[k&&(0,C.jsx)(s.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,C.jsx)(s.xv,{size:"100",children:this.props.i18n.bt("לוח", "Board", "PinBetterSave.BoardFlyout.BoardPickerTitle", undefined, true)})}),(0,C.jsx)(B,{board:e,buttonText:i,displayAlreadySavedMsg:b&&b.id===e.id,isSectionOpen:!0,onButtonClick:h,onClick:e=>{this.handleBoardClick({board:e,toggleSections:!1})},saveSessionId:Z,shouldOpenSections:!1,showFlyoutSaveButton:P,useLegoLayout:k}),(0,C.jsx)(T,{board:e,buttonText:i,onButtonClick:h,onClick:this.handleSectionClick,showSectionSaveButton:w,useLegoLayout:k})]})},`${e.category}-${e.id}`))}):null}),A&&!r&&ea(!1)]})]})})})})]})}}function J(e){let{logContextEvent:t}=(0,l.v)(),i=(0,d.ZP)(),{checkExperiment:a}=(0,_.F)();return(0,C.jsx)(W,{...e,checkExperiment:a,i18n:i,logContextEvent:t,requestContext:(0,h.B)()})}function q(e,t,i){let{advertiser:a}=e,r={};if(i&&i.user&&i.user.username&&i.id!==t.id&&(r.orbacActingAs=i,r.username=i.user.username),t&&a){let i=e.advertiser;if(t.isAuth&&i.is_impersonation)return{hasMUA:i.owner_user_id!==t.id,advertiser_id:i.id,username:i.owner_user_id,...r};if(t.isAuth&&i.owner_user_id!==t.id)return{hasMUA:!0,advertiser_id:i.id,username:i.owner_user_id,...r};if(t.isAuth&&i.owner_user_id===t.id)return{hasMUA:!1,advertiser_id:i.id,username:"me"}}return{advertiser_id:void 0,hasMUA:void 0,...r}}function V(e){let{advertiser_id:t,hasMUA:i,boardFilter:a="all"}=e,{username:r}=e,o={field_set_key:"board_picker",filter:i?"protected":a,...r?{username:r}:Object.freeze({}),...t?{advertiser_id:t}:{}};return e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(o={...o,username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:a}),o}function X(e,t){return(i,a)=>i((0,u.jB)("BoardPickerBoardsResource",V(q(a(),e,t))))}function Y(e){let t=(0,p.Z)(),i=(0,r.v9)(i=>q(i,t,e.orbacActingAs)),a={...e,...i},o=(0,g.Z)({name:"BoardPickerBoardsResource",options:V(a)});return(0,C.jsx)(J,{...a,boardResource:o})}function K(e){let t=(0,m.Z)(),i=(0,p.Z)(),a=(0,x.lJ)(i,t);return(0,C.jsx)(Y,{...e,orbacActingAs:a?t:void 0})}function Q(e){let t=(0,g.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),{data:i}=(0,g.Z)({name:"ApiResource",options:{url:`/v3/pins/${e.pinId}/`,field_sets:["pin.pinned_to_board()"]},noCache:!0});return(0,C.jsx)(J,{...e,pinAlreadySavedBoard:i?.pinned_to_board,suggestedBoardsShortListResource:t})}Z(W,"defaultProps",{clientTrackingParams:void 0,paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},912355:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(883119),r=i(990949),o=i(684860),s=i(785893);let l=({collaborator_count:e,useLegoLayout:t,type:i})=>t?(0,s.jsx)(a.xu,{marginEnd:e?2:0,children:(0,s.jsx)(o.Z,{type:i})}):(0,s.jsx)(o.Z,{type:i}),n=({board:e,showCollaborativeIcon:t,showPrivateIcon:i,showProtectedIcon:n,showSectionsIcon:d,useLegoLayout:c})=>{let _=e?.collaborating_users?.length||0;return t||i||n||d?(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:c?0:5,children:[i&&(0,s.jsx)(l,{collaborator_count:_,type:"secret",useLegoLayout:c}),n&&(0,s.jsx)(l,{collaborator_count:_,type:"protected",useLegoLayout:c}),t&&(c?(0,s.jsx)(r.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,s.jsx)(o.Z,{type:"group"})),d&&(0,s.jsx)(o.Z,{type:"sections"})]}):null}},605244:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(883119),r=i(785893);let o=({image_url:e,naturalHeight:t,naturalWidth:i})=>(0,r.jsx)(a.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,r.jsx)(a.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,r.jsx)(a.Ee,{alt:"",naturalHeight:t,naturalWidth:i,src:e})})})},983542:(e,t,i)=>{i.d(t,{Az:()=>m,DI:()=>y,Gl:()=>A,Hl:()=>I,NA:()=>a,NG:()=>d,OC:()=>E,Pq:()=>B,QM:()=>g,Sk:()=>S,UF:()=>v,Uo:()=>w,WF:()=>l,Xm:()=>c,Zf:()=>o,_N:()=>u,ac:()=>s,dt:()=>p,e_:()=>h,gf:()=>x,hf:()=>P,i_:()=>n,jY:()=>f,ni:()=>C,qg:()=>_,rX:()=>r,vX:()=>j,yG:()=>b,yq:()=>z});let a="10",r=1,o=365,s=64,l=8,n=9,d=11,c=15,_=16,h=17,u=18,g=19,b=20,p=22,m=1e6,x=1e6,v="US";function f(e){let t="USD",i="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",i="€";break;case"AU":t="AUD",i="$";break;case"CA":t="CAD",i="$";break;case"CH":t="CHF",i="CHF";break;case"DK":t="DKK",i="kr";break;case"GB":t="GBP",i="£";break;case"NO":t="NOK",i="kr";break;case"NZ":t="NZD",i="$";break;case"SE":t="SEK",i="kr"}return[t,i]}let y={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},C={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},S={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},A={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},P="QUICK_PROMOTE_PAGE",j=[A.GDPR_MODAL,A.PIN_SELECTION_MODAL,P,A.BUSINESS_FORM,A.BILLING_FORM,A.SUCCESS_MODAL,A.ERROR_MODAL],B={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},w=e=>e>=1&&e<=2,E="qp-fac-education-id",z="qp-fac-modal-education-id",I={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"}},990949:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(883119),r=i(144326),o=i(240760),s=i(383399),l=i(785893);function n(e){let t=e?.imageMediumUrl??e?.image_medium_url??"",i=e?.avatar_color_index??void 0;return{name:e?.fullName??e?.full_name??"",color:i,src:"https://s.pinimg.com/images/user/default_75.png"===t?void 0:t}}function d({board:e,forceViewer:t,isCompact:i,ownerOnly:d}){let c=(0,r.ZP)(),_=(0,s.Z)(),h=d?[n(e?.owner)]:(function(e,t,i){let{collaborated_by_me:a,collaborating_users:r,owner:o}=e??{},s=r??[],l=[o];if(a||i){let e=s.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){let t=s.splice(e,1)[0];l.push(t)}else l.push(t)}return[...l,...[...s].sort((e,t)=>(e.full_name??"")>(t.full_name??"")?1:(t.full_name??"")>(e.full_name??"")?-1:0)]})(e,_,t).map(n),u=h.slice(0,3).map(e=>e.name),g="";switch(h.length){case 3:g=(0,o.Wc)(`${c.bt("{{ first }}, {{ second }} ו-{{ last }}", "{{ first }}, {{ second }}, and {{ last }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars", undefined, true)}`,{first:`${u[0]??""}`,second:`${u[1]??""}`,last:`${u[2]??""}`});break;case 2:g=(0,o.Wc)(`${c.bt("{{ first }} ו-{{ second }}", "{{ first }} and {{ second }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars", undefined, true)}`,{first:`${u[0]??""}`,second:`${u[1]??""}`});break;default:g=u.join(", ")}let b=h.length>3?(0,o.Wc)(`, ${c.nbt(["משתפי פעולה: {{ userNames }} ועוד {{ leftCount }}.", "משתפי פעולה: {{ userNames }} ועוד {{ leftCount }}.", "משתפי פעולה: {{ userNames }} ועוד {{ leftCount }}.", "משתפי פעולה: {{ userNames }} ועוד {{ leftCount }}."], h.length - 3, "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree", true)}`,{userNames:g,leftCount:`${h.length-3}`}):(0,o.Wc)(`, ${c.bt("משתפי פעולה: {{ userNames }}.", "Collaborators: {{ userNames }}.", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree", undefined, true)}`,{userNames:g});return(0,l.jsx)(a.HE,{accessibilityLabel:b,collaborators:h,size:i?"xs":"sm"})}},21065:(e,t,i)=>{i.d(t,{I:()=>l,Z:()=>s});var a=i(961754),r=i(333171);let o=({boardId:e,ownerUsername:t,ownerName:i,ownerImgSrc:o})=>{let s=(0,r.Z)(),{data:l,isLoaded:n}=(0,a.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...s?{orbac_subject_id:s}:{}}}),d=[{name:i,src:o,href:`/${t}/`,isDim:!1}];return n&&l&&l.length>0&&l.forEach(e=>{d.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),d},s=o;function l({children:e,...t}){return e(o(t))}},633493:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),r=i(883119),o=i(785893);function s(e){let{accessibilityLabel:t,focused:i,id:s,onBlur:l,onChange:n,onFocus:d,placeholder:c,value:_,size:h="lg"}=e,u=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(i){let e=u.current;window.requestAnimationFrame(()=>{let t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[i]),(0,o.jsx)(r.xu,{ref:u,children:(0,o.jsx)(r.Um,{accessibilityLabel:t,id:s,onBlur:l,onChange:n,onFocus:d,placeholder:c,size:h,value:_})})}},684860:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),r=i(144326),o=i(785893);let s=function({type:e}){let t=(0,r.ZP)(),i={group:{accessibilityLabel:t.bt("לוח קבוצתי", "group board", "Board picker group board icon", undefined, true),icon:"people"},protected:{accessibilityLabel:t.bt("לוח מוגן", "protected board", "Board picker protected board icon", undefined, true),icon:"protect"},secret:{accessibilityLabel:t.bt("לוח סודי", "secret board", "Board picker secret board icon", undefined, true),icon:"lock"},sections:{accessibilityLabel:t.bt("לוח עם מקטעים", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t.bt("לוח עם מקטעים", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-down"}}[e];return(0,o.jsx)(a.xu,{marginStart:1,children:(0,o.jsx)(a.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,o.jsx)(a.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:"12"}):(0,o.jsx)(a.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:16})})})}},207666:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(545007),r=i(782677),o=i(252071),s=i(835764),l=i(786974),n=i(468808),d=i(338623);function c(){let e=(0,a.I0)(),t=(0,a.v9)(e=>e.resources);return async function({boardCreateOptions:i,deprecatedSchemaForNormalization:a}){let c=await o.Z.create("BoardResource",i).callCreate(),_=c.resource_response.data,h=a?(0,r.Fv)(_,a):void 0;e((0,d.XM)("BoardResource",i,c,h)),e((0,s.fO)({event_type:20})),_.owner?.id&&e((0,n.b)("UserResource",{options:{user_id:_.owner.id,field_set_key:"save_behavior"}}));let u=t.BoardsResource||{},g=t.BoardsFeedResource||{};return Object.keys(u).forEach(t=>{(0,l.k)(t).username===_.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(g).forEach(t=>{(0,l.k)(t).username===_.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),_}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/16249.he_IL-3b0c7203a49095af.mjs.map